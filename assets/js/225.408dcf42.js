(window.webpackJsonp=window.webpackJsonp||[]).push([[225],{665:function(s,e,a){"use strict";a.r(e);var t=a(76),v=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"ssh-客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh-客户端"}},[s._v("#")]),s._v(" SSH 客户端")]),s._v(" "),a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("p",[s._v("OpenSSH 的客户端是二进制程序 ssh。它在 Linux/Unix 系统的位置是"),a("code",[s._v("/usr/local/bin/ssh")]),s._v("，Windows 系统的位置是"),a("code",[s._v("\\Program Files\\OpenSSH\\bin\\ssh.exe")]),s._v("。")]),s._v(" "),a("p",[s._v("Linux 系统一般都自带 ssh，如果没有就需要安装。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Ubuntu 和 Debian")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssh-client\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CentOS 和 Fedora")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dnf "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssh-clients\n")])])]),a("p",[s._v("安装以后，可以使用"),a("code",[s._v("-V")]),s._v("参数输出版本号，查看一下是否安装成功。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -V\n")])])]),a("h2",{attrs:{id:"基本用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本用法"}},[s._v("#")]),s._v(" 基本用法")]),s._v(" "),a("p",[s._v("ssh 最常见的用途就是登录服务器，这要求服务器安装并正在运行 SSH 服务器软件。")]),s._v(" "),a("p",[s._v("ssh 登录服务器的命令如下。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),s._v("\n")])])]),a("p",[s._v("上面命令中，"),a("code",[s._v("hostname")]),s._v("是主机名，它可以是域名，也可能是 IP 地址或局域网内部的主机名。不指定用户名的情况下，将使用客户端的当前用户名，作为远程服务器的登录用户名。如果要指定用户名，可以采用下面的语法。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" user@hostname\n")])])]),a("p",[s._v("上面的命令中，用户名和主机名写在一起了，之间使用"),a("code",[s._v("@")]),s._v("分隔。")]),s._v(" "),a("p",[s._v("用户名也可以使用"),a("code",[s._v("ssh")]),s._v("的"),a("code",[s._v("-l")]),s._v("参数指定，这样的话，用户名和主机名就不用写在一起了。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -l username "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v("\n")])])]),a("p",[s._v("ssh 默认连接服务器的22端口，"),a("code",[s._v("-p")]),s._v("参数可以指定其他端口。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8821")]),s._v(" foo.com\n")])])]),a("p",[s._v("上面命令连接服务器"),a("code",[s._v("foo.com")]),s._v("的8821端口。")]),s._v(" "),a("h2",{attrs:{id:"连接流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接流程"}},[s._v("#")]),s._v(" 连接流程")]),s._v(" "),a("p",[s._v("ssh 连接远程服务器后，首先有一个验证过程，验证远程服务器是否为陌生地址。")]),s._v(" "),a("p",[s._v("如果是第一次连接某一台服务器，命令行会显示一段文字，表示不认识这台机器，提醒用户确认是否需要连接。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("The authenticity of "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'foo.com (192.168.121.111)'")]),s._v(" can't be established.\nECDSA key fingerprint is SHA256:Vybt22mVXuNuB5unE++yowF7lgA/9/2bLSiO3qmYWBY.\nAre you sure you want to "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("continue")]),s._v(" connecting "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("yes/no"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("?\n")])])]),a("p",[s._v("上面这段文字告诉用户，"),a("code",[s._v("foo.com")]),s._v("这台服务器的指纹是陌生的，让用户选择是否要继续连接（输入 yes 或 no）。")]),s._v(" "),a("p",[s._v("所谓“服务器指纹”，指的是 SSH 服务器公钥的哈希值。每台 SSH 服务器都有唯一一对密钥，用于跟客户端通信，其中公钥的哈希值就可以用来识别服务器。")]),s._v(" "),a("p",[s._v("下面的命令可以查看某个公钥的指纹。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ssh-keygen -l -f /etc/ssh/ssh_host_ecdsa_key.pub\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" da:24:43:0b:2e:c1:3f:a1:84:13:92:01:52:b4:84:ff   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ECDSA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("p",[s._v("上面的例子中，"),a("code",[s._v("ssh-keygen -l -f")]),s._v("命令会输出公钥"),a("code",[s._v("/etc/ssh/ssh_host_ecdsa_key.pub")]),s._v("的指纹。")]),s._v(" "),a("p",[s._v("ssh 会将本机连接过的所有服务器公钥的指纹，都储存在本机的"),a("code",[s._v("~/.ssh/known_hosts")]),s._v("文件中。每次连接服务器时，通过该文件判断是否为陌生主机（陌生公钥）。")]),s._v(" "),a("p",[s._v("在上面这段文字后面，输入"),a("code",[s._v("yes")]),s._v("，就可以将当前服务器的指纹也储存在本机"),a("code",[s._v("~/.ssh/known_hosts")]),s._v("文件中，并显示下面的提示。以后再连接的时候，就不会再出现警告了。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Warning: Permanently added "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'foo.com (192.168.121.111)'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("RSA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to the list of known hosts\n")])])]),a("p",[s._v("然后，客户端就会跟服务器建立连接。接着，ssh 就会要求用户输入所要登录账户的密码。用户输入并验证密码正确以后，就能登录远程服务器的 Shell 了。")]),s._v(" "),a("h2",{attrs:{id:"服务器密钥变更"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务器密钥变更"}},[s._v("#")]),s._v(" 服务器密钥变更")]),s._v(" "),a("p",[s._v("服务器指纹可以防止有人恶意冒充远程主机。如果服务器的密钥发生变更（比如重装了 SSH 服务器），客户端再次连接时，就会发生公钥指纹不吻合的情况。这时，客户端就会中断连接，并显示一段警告信息。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("     @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nIT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\nSomeone could be eavesdropping on you right now "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("man-in-the-middle attack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\nIt is also possible that the RSA "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" key has just been changed.\nThe fingerprint "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the RSA key sent by the remote "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" is\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("77")]),s._v(":a5:69:81:9b:eb:40:76:7b:13:04:a9:6c:f4:9c:5d.\nPlease contact your system administrator.\nAdd correct "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /home/me/.ssh/known_hosts to get rid of this message.\nOffending key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /home/me/.ssh/known_hosts:36\n")])])]),a("p",[s._v("上面这段文字的意思是，该主机的公钥指纹跟"),a("code",[s._v("~/.ssh/known_hosts")]),s._v("文件储存的不一样，必须处理以后才能连接。这时，你需要确认是什么原因，使得公钥指纹发生变更，到底是恶意劫持，还是管理员变更了 SSH 服务器公钥。")]),s._v(" "),a("p",[s._v("如果新的公钥确认可以信任，需要继续执行连接，你可以执行下面的命令，将原来的公钥指纹从"),a("code",[s._v("~/.ssh/known_hosts")]),s._v("文件删除。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ssh-keygen -R "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hostname")]),s._v("\n")])])]),a("p",[s._v("上面命令中，"),a("code",[s._v("hostname")]),s._v("是发生公钥变更的主机名。")]),s._v(" "),a("p",[s._v("除了使用上面的命令，你也可以手工修改"),a("code",[s._v("known_hosts")]),s._v("文件，将公钥指纹删除。")]),s._v(" "),a("p",[s._v("删除了原来的公钥指纹以后，重新执行 ssh 命令连接远程服务器，将新的指纹加入"),a("code",[s._v("known_hosts")]),s._v("文件，就可以顺利连接了。")]),s._v(" "),a("h2",{attrs:{id:"执行远程命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行远程命令"}},[s._v("#")]),s._v(" 执行远程命令")]),s._v(" "),a("p",[s._v("SSH 登录成功后，用户就进入了远程主机的命令行环境，所看到的提示符，就是远程主机的提示符。这时，你就可以输入想要在远程主机执行的命令。")]),s._v(" "),a("p",[s._v("另一种执行远程命令的方法，是将命令直接写在"),a("code",[s._v("ssh")]),s._v("命令的后面。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" username@hostname "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n")])])]),a("p",[s._v("上面的命令会使得 SSH 在登录成功后，立刻在远程主机上执行命令"),a("code",[s._v("command")]),s._v("。")]),s._v(" "),a("p",[s._v("下面是一个例子。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" foo@server.example.com "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/hosts\n")])])]),a("p",[s._v("上面的命令会在登录成功后，立即远程执行命令"),a("code",[s._v("cat /etc/hosts")]),s._v("。")]),s._v(" "),a("p",[s._v("采用这种语法执行命令时，ssh 客户端不会提供互动式的 Shell 环境，而是直接将远程命令的执行结果输出在命令行。但是，有些命令需要互动式的 Shell 环境，这时就要使用"),a("code",[s._v("-t")]),s._v("参数。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 报错")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" remote.server.com emacs\nemacs: standard input is not a "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tty")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不报错")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -t server.example.com emacs\n")])])]),a("p",[s._v("上面代码中，"),a("code",[s._v("emacs")]),s._v("命令需要一个互动式 Shell，所以报错。只有加上"),a("code",[s._v("-t")]),s._v("参数，ssh 才会分配一个互动式 Shell。")]),s._v(" "),a("h2",{attrs:{id:"加密参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加密参数"}},[s._v("#")]),s._v(" 加密参数")]),s._v(" "),a("p",[s._v("SSH 连接的握手阶段，客户端必须跟服务端约定加密参数集（cipher suite）。")]),s._v(" "),a("p",[s._v("加密参数集包含了若干不同的加密参数，它们之间使用下划线连接在一起，下面是一个例子。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("TLS_RSA_WITH_AES_128_CBC_SHA\n")])])]),a("p",[s._v("它的含义如下。")]),s._v(" "),a("ul",[a("li",[s._v("TLS：加密通信协议")]),s._v(" "),a("li",[s._v("RSA：密钥交换算法")]),s._v(" "),a("li",[s._v("AES：加密算法")]),s._v(" "),a("li",[s._v("128：加密算法的强度")]),s._v(" "),a("li",[s._v("CBC：加密算法的模式")]),s._v(" "),a("li",[s._v("SHA：数字签名的 Hash 函数")])]),s._v(" "),a("p",[s._v("下面是一个例子，客户端向服务器发出的握手信息。")]),s._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[s._v("Handshake protocol: ClientHello\n    Version: TLS 1.2\n    Random\n        Client time: May 22, 2030 02:43:46 GMT\n        Random bytes: b76b0e61829557eb4c611adfd2d36eb232dc1332fe29802e321ee871\n    Session ID: (empty)\n    Cipher Suites\n        Suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256”\n        Suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\n        Suite: TLS_RSA_WITH_AES_128_GCM_SHA256\n        Suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\n        Suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA\n        Suite: TLS_RSA_WITH_AES_128_CBC_SHA\n        Suite: TLS_RSA_WITH_3DES_EDE_CBC_SHA\n        Suite: TLS_RSA_WITH_RC4_128_SHA\n    Compression methods\n        Method: null\n    Extensions\n        Extension: server_name\n            Hostname: www.feistyduck.com\n        Extension: renegotiation_info\n        Extension: elliptic_curves\n            Named curve: secp256r1\n            Named curve: secp384r1\n        Extension: signature_algorithms\n            Algorithm: sha1/rsa\n            Algorithm: sha256/rsa\n            Algorithm: sha1/ecdsa\n            Algorithm: sha256/ecdsa”\n")])])]),a("p",[s._v("上面的握手信息（ClientHello）之中，"),a("code",[s._v("Cipher Suites")]),s._v("字段就是客户端列出可选的加密参数集，服务器在其中选择一个自己支持的参数集。")]),s._v(" "),a("p",[s._v("服务器选择完毕之后，向客户端发出回应。")]),s._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[s._v("Handshake protocol: ServerHello\n    Version: TLS 1.2\n    Random\n        Server time: Mar 10, 2059 02:35:57 GMT”\n        Random bytes: 8469b09b480c1978182ce1b59290487609f41132312ca22aacaf5012\n    Session ID: 4cae75c91cf5adf55f93c9fb5dd36d19903b1182029af3d527b7a42ef1c32c80\n    Cipher Suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n    Compression method: null\n    Extensions\n        Extension: server_name\n        Extension: renegotiation_info”\n")])])]),a("p",[s._v("上面的回应信息（ServerHello）中，"),a("code",[s._v("Cipher Suite")]),s._v("字段就是服务器最终选定的加密参数。")]),s._v(" "),a("h2",{attrs:{id:"ssh-命令行配置项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh-命令行配置项"}},[s._v("#")]),s._v(" ssh 命令行配置项")]),s._v(" "),a("p",[s._v("ssh 命令有很多配置项，修改它的默认行为。")]),s._v(" "),a("p",[a("strong",[s._v("-c")])]),s._v(" "),a("p",[a("code",[s._v("-c")]),s._v("参数指定加密算法。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -c blowfish,3des server.example.com\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -c blowfish -c 3des server.example.com\n")])])]),a("p",[s._v("上面命令指定使用加密算法"),a("code",[s._v("blowfish")]),s._v("或"),a("code",[s._v("3des")]),s._v("。")]),s._v(" "),a("p",[a("strong",[s._v("-C")])]),s._v(" "),a("p",[a("code",[s._v("-C")]),s._v("参数表示压缩数据传输。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -C server.example.com\n")])])]),a("p",[a("strong",[s._v("-D")])]),s._v(" "),a("p",[a("code",[s._v("-D")]),s._v("参数指定本机的 Socks 监听端口，该端口收到的请求，都将转发到远程的 SSH 主机，又称动态端口转发，详见《端口转发》一章。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -D "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")]),s._v(" server\n")])])]),a("p",[s._v("上面命令将本机 1080 端口收到的请求，都转发到服务器"),a("code",[s._v("server")]),s._v("。")]),s._v(" "),a("p",[a("strong",[s._v("-f")])]),s._v(" "),a("p",[a("code",[s._v("-f")]),s._v("参数表示 SSH 连接在后台运行。")]),s._v(" "),a("p",[a("strong",[s._v("-F")])]),s._v(" "),a("p",[a("code",[s._v("-F")]),s._v("参数指定配置文件。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -F /usr/local/ssh/other_config\n")])])]),a("p",[s._v("上面命令指定使用配置文件"),a("code",[s._v("other_config")]),s._v("。")]),s._v(" "),a("p",[a("strong",[s._v("-i")])]),s._v(" "),a("p",[a("code",[s._v("-i")]),s._v("参数用于指定私钥，意为“identity_file”，默认值为"),a("code",[s._v("~/.ssh/id_dsa")]),s._v("。注意，对应的公钥必须存放到服务器，详见《密钥登录》一章。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -i my-key server.example.com\n")])])]),a("p",[a("strong",[s._v("-l")])]),s._v(" "),a("p",[a("code",[s._v("-l")]),s._v("参数指定远程登录的账户名。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -l sally server.example.com\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等同于")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" sally@server.example.com\n")])])]),a("p",[a("strong",[s._v("-L")])]),s._v(" "),a("p",[a("code",[s._v("-L")]),s._v("参数设置本地端口转发，详见《端口转发》一章。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("  -L "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9999")]),s._v(":targetServer:80 user@remoteserver\n")])])]),a("p",[s._v("上面命令中，所有发向本地"),a("code",[s._v("9999")]),s._v("端口的请求，都会经过"),a("code",[s._v("remoteserver")]),s._v("发往 targetServer 的 80 端口，这就相当于直接连上了 targetServer 的 80 端口。")]),s._v(" "),a("p",[a("strong",[s._v("-m")])]),s._v(" "),a("p",[a("code",[s._v("-m")]),s._v("参数指定校验数据完整性的算法（message authentication code，简称 MAC）。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -m hmac-sha1,hmac-md5 server.example.com\n")])])]),a("p",[s._v("上面命令指定数据校验算法为"),a("code",[s._v("hmac-sha1")]),s._v("或"),a("code",[s._v("hmac-md5")]),s._v("。")]),s._v(" "),a("p",[a("strong",[s._v("-N")])]),s._v(" "),a("p",[a("code",[s._v("-N")]),s._v("参数用于端口转发，表示建立的 SSH 只用于端口转发，不能执行远程命令，这样可以提供安全性，详见《端口转发》一章。")]),s._v(" "),a("p",[a("strong",[s._v("-o")])]),s._v(" "),a("p",[a("code",[s._v("-o")]),s._v("参数用来指定一个配置命令。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -o "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Keyword Value"')]),s._v("\n")])])]),a("p",[s._v("举例来说，配置文件里面有如下内容。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("User sally\nPort "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("220")]),s._v("\n")])])]),a("p",[s._v("通过"),a("code",[s._v("-o")]),s._v("参数，可以把上面两个配置命令从命令行传入。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -o "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"User sally"')]),s._v(" -o "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Port 220"')]),s._v(" server.example.com\n")])])]),a("p",[s._v("使用等号时，配置命令可以不用写在引号里面，但是等号前后不能有空格。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -o "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sally -o "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("220")]),s._v(" server.example.com\n")])])]),a("p",[a("strong",[s._v("-p")])]),s._v(" "),a("p",[a("code",[s._v("-p")]),s._v("参数指定 SSH 客户端连接的服务器端口。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2035")]),s._v(" server.example.com\n")])])]),a("p",[s._v("上面命令连接服务器的2035端口。")]),s._v(" "),a("p",[a("strong",[s._v("-q")])]),s._v(" "),a("p",[a("code",[s._v("-q")]),s._v("参数表示安静模式（quiet），不向用户输出任何警告信息。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" –q foo.com\nroot’s password:\n")])])]),a("p",[s._v("上面命令使用"),a("code",[s._v("-q")]),s._v("参数，只输出要求用户输入密码的提示。")]),s._v(" "),a("p",[a("strong",[s._v("-R")])]),s._v(" "),a("p",[a("code",[s._v("-R")]),s._v("参数指定远程端口转发，详见《端口转发》一章。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -R "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9999")]),s._v(":targetServer:902 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v("\n")])])]),a("p",[s._v("上面命令需在跳板服务器执行，指定本地计算机"),a("code",[s._v("local")]),s._v("监听自己的 9999 端口，所有发向这个端口的请求，都会转向 targetServer 的 902 端口。")]),s._v(" "),a("p",[a("strong",[s._v("-t")])]),s._v(" "),a("p",[a("code",[s._v("-t")]),s._v("参数在 ssh 直接运行远端命令时，提供一个互动式 Shell。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -t server.example.com emacs\n")])])]),a("p",[a("strong",[s._v("-v")])]),s._v(" "),a("p",[a("code",[s._v("-v")]),s._v("参数显示详细信息。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -v server.example.com\n")])])]),a("p",[a("code",[s._v("-v")]),s._v("可以重复多次，表示信息的详细程度，比如"),a("code",[s._v("-vv")]),s._v("和"),a("code",[s._v("-vvv")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -vvv server.example.com\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -v -v -v server.example.com\n")])])]),a("p",[s._v("上面命令会输出最详细的连接信息。")]),s._v(" "),a("p",[a("strong",[s._v("-V")])]),s._v(" "),a("p",[a("code",[s._v("-V")]),s._v("参数输出 ssh 客户端的版本。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" –V\nssh: SSH Secure Shell "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v(".3 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("non-commercial version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" on i686-pc-linux-gnu\n")])])]),a("p",[s._v("上面命令输出本机 ssh 客户端版本是"),a("code",[s._v("SSH Secure Shell 3.2.3")]),s._v("。")]),s._v(" "),a("p",[a("strong",[s._v("-X")])]),s._v(" "),a("p",[a("code",[s._v("-X")]),s._v("参数表示打开 X 窗口转发。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -X server.example.com\n")])])]),a("p",[a("strong",[s._v("-1，-2")])]),s._v(" "),a("p",[a("code",[s._v("-1")]),s._v("参数指定使用 SSH 1 协议。")]),s._v(" "),a("p",[a("code",[s._v("-2")]),s._v("参数指定使用 SSH 2 协议。")]),s._v(" "),a("div",{staticClass:"language-ssh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ ssh -2 server.example.com\n")])])]),a("p",[a("strong",[s._v("-4，-6")])]),s._v(" "),a("p",[a("code",[s._v("-4")]),s._v("指定使用 IPv4 协议，这是默认值。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -4 server.example.com\n")])])]),a("p",[a("code",[s._v("-6")]),s._v("指定使用 IPv6 协议。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -6 server.example.com\n")])])]),a("h2",{attrs:{id:"客户端配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#客户端配置文件"}},[s._v("#")]),s._v(" 客户端配置文件")]),s._v(" "),a("h3",{attrs:{id:"位置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#位置"}},[s._v("#")]),s._v(" 位置")]),s._v(" "),a("p",[s._v("SSH 客户端的全局配置文件是"),a("code",[s._v("/etc/ssh/ssh_config")]),s._v("，用户个人的配置文件在"),a("code",[s._v("~/.ssh/config")]),s._v("，优先级高于全局配置文件。")]),s._v(" "),a("p",[s._v("除了配置文件，"),a("code",[s._v("~/.ssh")]),s._v("目录还有一些用户个人的密钥文件和其他文件。下面是其中一些常见的文件。")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("~/.ssh/id_ecdsa")]),s._v("：用户的 ECDSA 私钥。")]),s._v(" "),a("li",[a("code",[s._v("~/.ssh/id_ecdsa.pub")]),s._v("：用户的 ECDSA 公钥。")]),s._v(" "),a("li",[a("code",[s._v("~/.ssh/id_rsa")]),s._v("：用于 SSH 协议版本2 的 RSA 私钥。")]),s._v(" "),a("li",[a("code",[s._v("~/.ssh/id_rsa.pub")]),s._v("：用于SSH 协议版本2 的 RSA 公钥。")]),s._v(" "),a("li",[a("code",[s._v("~/.ssh/identity")]),s._v("：用于 SSH 协议版本1 的 RSA 私钥。")]),s._v(" "),a("li",[a("code",[s._v("~/.ssh/identity.pub")]),s._v("：用于 SSH 协议版本1 的 RSA 公钥。")]),s._v(" "),a("li",[a("code",[s._v("~/.ssh/known_hosts")]),s._v("：包含 SSH 服务器的公钥指纹。")])]),s._v(" "),a("h3",{attrs:{id:"主机设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主机设置"}},[s._v("#")]),s._v(" 主机设置")]),s._v(" "),a("p",[s._v("用户个人的配置文件"),a("code",[s._v("~/.ssh/config")]),s._v("，可以按照不同服务器，列出各自的连接参数，从而不必每一次登录都输入重复的参数。下面是一个例子。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Host *\n     Port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),s._v("\n\nHost remoteserver\n     HostName remote.example.com\n     User neo\n     Port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2112")]),s._v("\n")])])]),a("p",[s._v("上面代码中，"),a("code",[s._v("Host *")]),s._v("表示对所有主机生效，后面的"),a("code",[s._v("Port 2222")]),s._v("表示所有主机的默认连接端口都是2222，这样就不用在登录时特别指定端口了。这里的缩进并不是必需的，只是为了视觉上，易于识别针对不同主机的设置。")]),s._v(" "),a("p",[s._v("后面的"),a("code",[s._v("Host remoteserver")]),s._v("表示，下面的设置只对主机"),a("code",[s._v("remoteserver")]),s._v("生效。"),a("code",[s._v("remoteserver")]),s._v("只是一个别名，具体的主机由"),a("code",[s._v("HostName")]),s._v("命令指定，"),a("code",[s._v("User")]),s._v("和"),a("code",[s._v("Port")]),s._v("这两项分别表示用户名和端口。这里的"),a("code",[s._v("Port")]),s._v("会覆盖上面"),a("code",[s._v("Host *")]),s._v("部分的"),a("code",[s._v("Port")]),s._v("设置。")]),s._v(" "),a("p",[s._v("以后，登录"),a("code",[s._v("remote.example.com")]),s._v("时，只要执行"),a("code",[s._v("ssh remoteserver")]),s._v("命令，就会自动套用 config 文件里面指定的参数。\n单个主机的配置格式如下。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" remoteserver\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等同于")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2112")]),s._v(" neo@remote.example.com\n")])])]),a("p",[a("code",[s._v("Host")]),s._v("命令的值可以使用通配符，比如"),a("code",[s._v("Host *")]),s._v("表示对所有主机都有效的设置，"),a("code",[s._v("Host *.edu")]),s._v("表示只对一级域名为"),a("code",[s._v(".edu")]),s._v("的主机有效的设置。它们的设置都可以被单个主机的设置覆盖。")]),s._v(" "),a("h3",{attrs:{id:"配置命令的语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置命令的语法"}},[s._v("#")]),s._v(" 配置命令的语法")]),s._v(" "),a("p",[s._v("ssh 客户端配置文件的每一行，就是一个配置命令。配置命令与对应的值之间，可以使用空格，也可以使用等号。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Compression "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等同于")]),s._v("\nCompression "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n")])])]),a("p",[a("code",[s._v("#")]),s._v("开头的行表示注释，会被忽略。空行等同于注释。")]),s._v(" "),a("h3",{attrs:{id:"主要配置命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主要配置命令"}},[s._v("#")]),s._v(" 主要配置命令")]),s._v(" "),a("p",[s._v("下面是 ssh 客户端的一些主要配置命令，以及它们的范例值。")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("AddressFamily inet")]),s._v("：表示只使用 IPv4 协议。如果设为"),a("code",[s._v("inet6")]),s._v("，表示只使用 IPv6 协议。")]),s._v(" "),a("li",[a("code",[s._v("BindAddress 192.168.10.235")]),s._v("：指定本机的 IP 地址（如果本机有多个 IP 地址）。")]),s._v(" "),a("li",[a("code",[s._v("CheckHostIP yes")]),s._v("：检查 SSH 服务器的 IP 地址是否跟公钥数据库吻合。")]),s._v(" "),a("li",[a("code",[s._v("Ciphers blowfish,3des")]),s._v("：指定加密算法。")]),s._v(" "),a("li",[a("code",[s._v("Compression yes")]),s._v("：是否压缩传输信号。")]),s._v(" "),a("li",[a("code",[s._v("ConnectionAttempts 10")]),s._v("：客户端进行连接时，最大的尝试次数。")]),s._v(" "),a("li",[a("code",[s._v("ConnectTimeout 60")]),s._v("：客户端进行连接时，服务器在指定秒数内没有回复，则中断连接尝试。")]),s._v(" "),a("li",[a("code",[s._v("DynamicForward 1080")]),s._v("：指定动态转发端口。")]),s._v(" "),a("li",[a("code",[s._v("GlobalKnownHostsFile /users/smith/.ssh/my_global_hosts_file")]),s._v("：指定全局的公钥数据库文件的位置。")]),s._v(" "),a("li",[a("code",[s._v("Host server.example.com")]),s._v("：指定连接的域名或 IP 地址，也可以是别名，支持通配符。"),a("code",[s._v("Host")]),s._v("命令后面的所有配置，都是针对该主机的，直到下一个"),a("code",[s._v("Host")]),s._v("命令为止。")]),s._v(" "),a("li",[a("code",[s._v("HostKeyAlgorithms ssh-dss,ssh-rsa")]),s._v("：指定密钥算法，优先级从高到低排列。")]),s._v(" "),a("li",[a("code",[s._v("HostName myserver.example.com")]),s._v("：在"),a("code",[s._v("Host")]),s._v("命令使用别名的情况下，"),a("code",[s._v("HostName")]),s._v("指定域名或 IP 地址。")]),s._v(" "),a("li",[a("code",[s._v("IdentityFile keyfile")]),s._v("：指定私钥文件。")]),s._v(" "),a("li",[a("code",[s._v("LocalForward 2001 localhost:143")]),s._v("：指定本地端口转发。")]),s._v(" "),a("li",[a("code",[s._v("LogLevel QUIET")]),s._v("：指定日志详细程度。如果设为"),a("code",[s._v("QUIET")]),s._v("，将不输出大部分的警告和提示。")]),s._v(" "),a("li",[a("code",[s._v("MACs hmac-sha1,hmac-md5")]),s._v("：指定数据校验算法。")]),s._v(" "),a("li",[a("code",[s._v("NumberOfPasswordPrompts 2")]),s._v("：密码登录时，用户输错密码的最大尝试次数。")]),s._v(" "),a("li",[a("code",[s._v("PasswordAuthentication no")]),s._v("：指定是否支持密码登录。不过，这里只是客户端禁止，真正的禁止需要在 SSH 服务器设置。")]),s._v(" "),a("li",[a("code",[s._v("Port 2035")]),s._v("：指定客户端连接的 SSH 服务器端口。")]),s._v(" "),a("li",[a("code",[s._v("PreferredAuthentications publickey,hostbased,password")]),s._v("：指定各种登录方法的优先级。")]),s._v(" "),a("li",[a("code",[s._v("Protocol 2")]),s._v("：支持的 SSH 协议版本，多个版本之间使用逗号分隔。")]),s._v(" "),a("li",[a("code",[s._v("PubKeyAuthentication yes")]),s._v("：是否支持密钥登录。这里只是客户端设置，还需要在 SSH 服务器进行相应设置。")]),s._v(" "),a("li",[a("code",[s._v("RemoteForward 2001 server:143")]),s._v("：指定远程端口转发。")]),s._v(" "),a("li",[a("code",[s._v("SendEnv COLOR")]),s._v("：SSH 客户端向服务器发送的环境变量名，多个环境变量之间使用空格分隔。环境变量的值从客户端当前环境中拷贝。")]),s._v(" "),a("li",[a("code",[s._v("ServerAliveCountMax 3")]),s._v("：如果没有收到服务器的回应，客户端连续发送多少次"),a("code",[s._v("keepalive")]),s._v("信号，才断开连接。该项默认值为3。")]),s._v(" "),a("li",[a("code",[s._v("ServerAliveInterval 300")]),s._v("：客户端建立连接后，如果在给定秒数内，没有收到服务器发来的消息，客户端向服务器发送"),a("code",[s._v("keepalive")]),s._v("消息。如果不希望客户端发送，这一项设为"),a("code",[s._v("0")]),s._v("。")]),s._v(" "),a("li",[a("code",[s._v("StrictHostKeyChecking yes")]),s._v("："),a("code",[s._v("yes")]),s._v("表示严格检查，服务器公钥为未知或发生变化，则拒绝连接。"),a("code",[s._v("no")]),s._v("表示如果服务器公钥未知，则加入客户端公钥数据库，如果公钥发生变化，不改变客户端公钥数据库，输出一条警告，依然允许连接继续进行。"),a("code",[s._v("ask")]),s._v("（默认值）表示询问用户是否继续进行。")]),s._v(" "),a("li",[a("code",[s._v("TCPKeepAlive yes")]),s._v("：客户端是否定期向服务器发送"),a("code",[s._v("keepalive")]),s._v("信息。")]),s._v(" "),a("li",[a("code",[s._v("User userName")]),s._v("：指定远程登录的账户名。")]),s._v(" "),a("li",[a("code",[s._v("UserKnownHostsFile /users/smith/.ssh/my_local_hosts_file")]),s._v("：指定当前用户的"),a("code",[s._v("known_hosts")]),s._v("文件（服务器公钥指纹列表）的位置。")]),s._v(" "),a("li",[a("code",[s._v("VerifyHostKeyDNS yes")]),s._v("：是否通过检查 SSH 服务器的 DNS 记录，确认公钥指纹是否与"),a("code",[s._v("known_hosts")]),s._v("文件保存的一致。")])])])}),[],!1,null,null,null);e.default=v.exports}}]);