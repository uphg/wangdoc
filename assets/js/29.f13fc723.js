(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{468:function(s,a,e){"use strict";e.r(a);var t=e(76),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"grep"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#grep"}},[s._v("#")]),s._v(" grep")]),s._v(" "),e("p",[e("code",[s._v("grep")]),s._v("命令用于文件内容的搜索，返回所有匹配的行。")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" pattern filename\n")])])]),e("p",[s._v("下面是一个例子。")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" admin /etc/passwd\n_kadmin_admin:*:218:-2:Kerberos Admin Service:/var/empty:/usr/bin/false\n_kadmin_changepw:*:219:-2:Kerberos Change Password Service:/var/empty:/usr/bin/false\n_krb_kadmin:*:231:-2:Open Directory Kerberos Admin Service:/var/empty:/usr/bin/false\n")])])]),e("p",[s._v("一般情况下，应该使用"),e("code",[s._v("grep -R")]),s._v("，递归地找出当前目录下符合"),e("code",[s._v("someVar")]),s._v("的文件。")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -FR "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'someVar'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])])]),e("p",[s._v("別忘了大小不敏感的参数，因为 "),e("code",[s._v("grep")]),s._v(" 默认搜索是大小写敏感的。")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -iR "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'somevar'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])])]),e("p",[s._v("也可以用"),e("code",[s._v("grep -l")]),s._v("光打印出符合条件的文件名而非文件内容选段。")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -lR "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'somevar'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])])]),e("p",[s._v("如果你写的脚本或批处理任务需要上面的输出内容，可以使用 "),e("code",[s._v("while")]),s._v(" 和 "),e("code",[s._v("read")]),s._v(" 来处理文件名中的空格和其他特殊字符：")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -lR someVar "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("IFS")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -r "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file")]),s._v('"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])])]),e("p",[s._v("如果你在你的项目里使用了版本控制软件，它通常会在 "),e("code",[s._v(".svn")]),s._v("， "),e("code",[s._v(".git")]),s._v("， "),e("code",[s._v(".hg")]),s._v(" 目录下包含一些元数据。你也可以很容易地用 "),e("code",[s._v("grep -v")]),s._v(" 把这些目录移出搜索范围，当然得用 "),e("code",[s._v("grep -F")]),s._v(" 指定一个恰当且确定的字符串，即要移除的目录名：")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -R "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'someVar'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -vF "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.svn'")]),s._v("\n")])])]),e("p",[s._v("部分版本的 "),e("code",[s._v("grep")]),s._v(" 包含了 "),e("code",[s._v("--exclude")]),s._v(" 和 "),e("code",[s._v("--exclude-dir")]),s._v(" 选项，这看起来更加易读。")]),s._v(" "),e("h2",{attrs:{id:"参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),e("p",[e("code",[s._v("-i")]),s._v("参数表示忽略大小写。")]),s._v(" "),e("p",[e("code",[s._v("-r")]),s._v("表示搜索某个目录下面的所有文件。")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -r admin /etc/\n")])])]),e("p",[e("code",[s._v("-v")]),s._v("过滤包含某个词的行，即"),e("code",[s._v("grep")]),s._v("的逆操作。")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有包含 vim，但不包含 grep 的行")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);