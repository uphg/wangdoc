<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bash 变量 | WangDoc</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="/wangdoc/font/index.css">
    <meta name="description" content="Carried from Ruan Yifeng">
    
    <link rel="preload" href="/wangdoc/assets/css/0.styles.b8e2a6d5.css" as="style"><link rel="preload" href="/wangdoc/assets/js/app.8723d088.js" as="script"><link rel="preload" href="/wangdoc/assets/js/2.9a1a264e.js" as="script"><link rel="preload" href="/wangdoc/assets/js/85.0d32b3d5.js" as="script"><link rel="preload" href="/wangdoc/assets/js/3.59361ec6.js" as="script"><link rel="prefetch" href="/wangdoc/assets/js/10.fffc7a41.js"><link rel="prefetch" href="/wangdoc/assets/js/100.3e59f891.js"><link rel="prefetch" href="/wangdoc/assets/js/101.ef65efb9.js"><link rel="prefetch" href="/wangdoc/assets/js/102.75a61923.js"><link rel="prefetch" href="/wangdoc/assets/js/103.950126da.js"><link rel="prefetch" href="/wangdoc/assets/js/104.0a3f6380.js"><link rel="prefetch" href="/wangdoc/assets/js/105.a8a2751c.js"><link rel="prefetch" href="/wangdoc/assets/js/106.0909bfd6.js"><link rel="prefetch" href="/wangdoc/assets/js/107.61dd327f.js"><link rel="prefetch" href="/wangdoc/assets/js/108.208d689b.js"><link rel="prefetch" href="/wangdoc/assets/js/109.3429b861.js"><link rel="prefetch" href="/wangdoc/assets/js/11.8e77b7fa.js"><link rel="prefetch" href="/wangdoc/assets/js/110.b17a98c3.js"><link rel="prefetch" href="/wangdoc/assets/js/111.67089df7.js"><link rel="prefetch" href="/wangdoc/assets/js/112.a61e4aac.js"><link rel="prefetch" href="/wangdoc/assets/js/113.8d129cc4.js"><link rel="prefetch" href="/wangdoc/assets/js/114.91202325.js"><link rel="prefetch" href="/wangdoc/assets/js/115.9232db7a.js"><link rel="prefetch" href="/wangdoc/assets/js/116.3f57f7fa.js"><link rel="prefetch" href="/wangdoc/assets/js/117.39fbb4a2.js"><link rel="prefetch" href="/wangdoc/assets/js/118.98fbb079.js"><link rel="prefetch" href="/wangdoc/assets/js/119.b802df94.js"><link rel="prefetch" href="/wangdoc/assets/js/12.5dfcc468.js"><link rel="prefetch" href="/wangdoc/assets/js/120.f2f3e969.js"><link rel="prefetch" href="/wangdoc/assets/js/121.ddc41600.js"><link rel="prefetch" href="/wangdoc/assets/js/122.1f9e6996.js"><link rel="prefetch" href="/wangdoc/assets/js/123.3dab5cb7.js"><link rel="prefetch" href="/wangdoc/assets/js/124.b5634c42.js"><link rel="prefetch" href="/wangdoc/assets/js/125.ba352811.js"><link rel="prefetch" href="/wangdoc/assets/js/126.98b393c9.js"><link rel="prefetch" href="/wangdoc/assets/js/127.b496b115.js"><link rel="prefetch" href="/wangdoc/assets/js/128.efd428c1.js"><link rel="prefetch" href="/wangdoc/assets/js/129.611df66b.js"><link rel="prefetch" href="/wangdoc/assets/js/13.a62f0816.js"><link rel="prefetch" href="/wangdoc/assets/js/130.4b7a2d82.js"><link rel="prefetch" href="/wangdoc/assets/js/131.bdc89fb1.js"><link rel="prefetch" href="/wangdoc/assets/js/132.81e9f548.js"><link rel="prefetch" href="/wangdoc/assets/js/133.5eb3b1b7.js"><link rel="prefetch" href="/wangdoc/assets/js/134.38475e6b.js"><link rel="prefetch" href="/wangdoc/assets/js/135.97431481.js"><link rel="prefetch" href="/wangdoc/assets/js/136.30b1e941.js"><link rel="prefetch" href="/wangdoc/assets/js/137.73813383.js"><link rel="prefetch" href="/wangdoc/assets/js/138.b01b5323.js"><link rel="prefetch" href="/wangdoc/assets/js/139.c1684e59.js"><link rel="prefetch" href="/wangdoc/assets/js/14.84f939d6.js"><link rel="prefetch" href="/wangdoc/assets/js/140.f4558659.js"><link rel="prefetch" href="/wangdoc/assets/js/141.1bc13a9c.js"><link rel="prefetch" href="/wangdoc/assets/js/142.055417da.js"><link rel="prefetch" href="/wangdoc/assets/js/143.e601ea78.js"><link rel="prefetch" href="/wangdoc/assets/js/144.1e73528e.js"><link rel="prefetch" href="/wangdoc/assets/js/145.6bf0a2fe.js"><link rel="prefetch" href="/wangdoc/assets/js/146.a1ae1ce8.js"><link rel="prefetch" href="/wangdoc/assets/js/147.b8be9cae.js"><link rel="prefetch" href="/wangdoc/assets/js/148.8cbf7229.js"><link rel="prefetch" href="/wangdoc/assets/js/149.01b6ab4a.js"><link rel="prefetch" href="/wangdoc/assets/js/15.82f0e11e.js"><link rel="prefetch" href="/wangdoc/assets/js/150.4c804003.js"><link rel="prefetch" href="/wangdoc/assets/js/151.d7e5eb85.js"><link rel="prefetch" href="/wangdoc/assets/js/152.14229211.js"><link rel="prefetch" href="/wangdoc/assets/js/153.0d37926e.js"><link rel="prefetch" href="/wangdoc/assets/js/154.8bcfe02c.js"><link rel="prefetch" href="/wangdoc/assets/js/155.527ee7a3.js"><link rel="prefetch" href="/wangdoc/assets/js/156.38bc424c.js"><link rel="prefetch" href="/wangdoc/assets/js/157.3e0373c8.js"><link rel="prefetch" href="/wangdoc/assets/js/158.fc8b752f.js"><link rel="prefetch" href="/wangdoc/assets/js/159.c93507b3.js"><link rel="prefetch" href="/wangdoc/assets/js/16.5f5758fa.js"><link rel="prefetch" href="/wangdoc/assets/js/160.c4b534f5.js"><link rel="prefetch" href="/wangdoc/assets/js/161.06c90281.js"><link rel="prefetch" href="/wangdoc/assets/js/162.bd0061bc.js"><link rel="prefetch" href="/wangdoc/assets/js/163.7dc573cc.js"><link rel="prefetch" href="/wangdoc/assets/js/164.46c37e7e.js"><link rel="prefetch" href="/wangdoc/assets/js/165.8c3320bc.js"><link rel="prefetch" href="/wangdoc/assets/js/166.52bd3222.js"><link rel="prefetch" href="/wangdoc/assets/js/167.dbb3c808.js"><link rel="prefetch" href="/wangdoc/assets/js/168.e63c4c28.js"><link rel="prefetch" href="/wangdoc/assets/js/169.2a437e05.js"><link rel="prefetch" href="/wangdoc/assets/js/17.053fde3c.js"><link rel="prefetch" href="/wangdoc/assets/js/170.b7f98abe.js"><link rel="prefetch" href="/wangdoc/assets/js/171.b3b224c7.js"><link rel="prefetch" href="/wangdoc/assets/js/172.080f2b03.js"><link rel="prefetch" href="/wangdoc/assets/js/173.87af14bd.js"><link rel="prefetch" href="/wangdoc/assets/js/174.b91695a3.js"><link rel="prefetch" href="/wangdoc/assets/js/175.9db61895.js"><link rel="prefetch" href="/wangdoc/assets/js/176.026ab96b.js"><link rel="prefetch" href="/wangdoc/assets/js/177.7990a06a.js"><link rel="prefetch" href="/wangdoc/assets/js/178.374813d2.js"><link rel="prefetch" href="/wangdoc/assets/js/179.f35e9bb6.js"><link rel="prefetch" href="/wangdoc/assets/js/18.4f711126.js"><link rel="prefetch" href="/wangdoc/assets/js/180.c16c6d3b.js"><link rel="prefetch" href="/wangdoc/assets/js/181.3a5462f6.js"><link rel="prefetch" href="/wangdoc/assets/js/182.26ff6d1c.js"><link rel="prefetch" href="/wangdoc/assets/js/183.8c47c990.js"><link rel="prefetch" href="/wangdoc/assets/js/184.71fbdaa4.js"><link rel="prefetch" href="/wangdoc/assets/js/185.e0399587.js"><link rel="prefetch" href="/wangdoc/assets/js/186.b4744693.js"><link rel="prefetch" href="/wangdoc/assets/js/187.8c1edd7c.js"><link rel="prefetch" href="/wangdoc/assets/js/188.3de1c37e.js"><link rel="prefetch" href="/wangdoc/assets/js/189.d946e11d.js"><link rel="prefetch" href="/wangdoc/assets/js/19.f34b619c.js"><link rel="prefetch" href="/wangdoc/assets/js/190.612f181f.js"><link rel="prefetch" href="/wangdoc/assets/js/191.a81ba58e.js"><link rel="prefetch" href="/wangdoc/assets/js/192.42db791a.js"><link rel="prefetch" href="/wangdoc/assets/js/193.4ec3f969.js"><link rel="prefetch" href="/wangdoc/assets/js/194.fd924de9.js"><link rel="prefetch" href="/wangdoc/assets/js/195.ee0924e6.js"><link rel="prefetch" href="/wangdoc/assets/js/196.5dbb1d15.js"><link rel="prefetch" href="/wangdoc/assets/js/197.701e76ac.js"><link rel="prefetch" href="/wangdoc/assets/js/198.99352439.js"><link rel="prefetch" href="/wangdoc/assets/js/199.18de1981.js"><link rel="prefetch" href="/wangdoc/assets/js/20.63fcdeab.js"><link rel="prefetch" href="/wangdoc/assets/js/200.473e83b9.js"><link rel="prefetch" href="/wangdoc/assets/js/201.0876610e.js"><link rel="prefetch" href="/wangdoc/assets/js/202.850bec6f.js"><link rel="prefetch" href="/wangdoc/assets/js/203.5c6a0391.js"><link rel="prefetch" href="/wangdoc/assets/js/204.f6e98d0c.js"><link rel="prefetch" href="/wangdoc/assets/js/205.85a84dce.js"><link rel="prefetch" href="/wangdoc/assets/js/206.73f9ea55.js"><link rel="prefetch" href="/wangdoc/assets/js/207.877457e9.js"><link rel="prefetch" href="/wangdoc/assets/js/208.4ab305de.js"><link rel="prefetch" href="/wangdoc/assets/js/209.f631d42b.js"><link rel="prefetch" href="/wangdoc/assets/js/21.53646bd4.js"><link rel="prefetch" href="/wangdoc/assets/js/210.54866ad8.js"><link rel="prefetch" href="/wangdoc/assets/js/211.8a2461ad.js"><link rel="prefetch" href="/wangdoc/assets/js/212.1a1631ff.js"><link rel="prefetch" href="/wangdoc/assets/js/213.65a08201.js"><link rel="prefetch" href="/wangdoc/assets/js/214.e091799f.js"><link rel="prefetch" href="/wangdoc/assets/js/215.3f088f25.js"><link rel="prefetch" href="/wangdoc/assets/js/216.525ce2e2.js"><link rel="prefetch" href="/wangdoc/assets/js/217.66d821a3.js"><link rel="prefetch" href="/wangdoc/assets/js/218.1a79eb73.js"><link rel="prefetch" href="/wangdoc/assets/js/219.6268047b.js"><link rel="prefetch" href="/wangdoc/assets/js/22.36428159.js"><link rel="prefetch" href="/wangdoc/assets/js/220.9c6338ad.js"><link rel="prefetch" href="/wangdoc/assets/js/221.02146d93.js"><link rel="prefetch" href="/wangdoc/assets/js/222.eea3bd30.js"><link rel="prefetch" href="/wangdoc/assets/js/223.552d4a26.js"><link rel="prefetch" href="/wangdoc/assets/js/224.175eebf2.js"><link rel="prefetch" href="/wangdoc/assets/js/225.408dcf42.js"><link rel="prefetch" href="/wangdoc/assets/js/226.5ba00006.js"><link rel="prefetch" href="/wangdoc/assets/js/227.b7671369.js"><link rel="prefetch" href="/wangdoc/assets/js/228.3522be14.js"><link rel="prefetch" href="/wangdoc/assets/js/229.812add83.js"><link rel="prefetch" href="/wangdoc/assets/js/23.e250d2fd.js"><link rel="prefetch" href="/wangdoc/assets/js/230.9e4314dc.js"><link rel="prefetch" href="/wangdoc/assets/js/231.3a4fa902.js"><link rel="prefetch" href="/wangdoc/assets/js/232.6939ad2d.js"><link rel="prefetch" href="/wangdoc/assets/js/233.ea0f4da8.js"><link rel="prefetch" href="/wangdoc/assets/js/234.84583de3.js"><link rel="prefetch" href="/wangdoc/assets/js/235.122a476b.js"><link rel="prefetch" href="/wangdoc/assets/js/236.3f4dd591.js"><link rel="prefetch" href="/wangdoc/assets/js/237.9e8d960a.js"><link rel="prefetch" href="/wangdoc/assets/js/238.44e1491a.js"><link rel="prefetch" href="/wangdoc/assets/js/239.34e411dc.js"><link rel="prefetch" href="/wangdoc/assets/js/24.f736c744.js"><link rel="prefetch" href="/wangdoc/assets/js/240.02a03faa.js"><link rel="prefetch" href="/wangdoc/assets/js/241.892ea6ad.js"><link rel="prefetch" href="/wangdoc/assets/js/242.2727cbba.js"><link rel="prefetch" href="/wangdoc/assets/js/243.3a66a03c.js"><link rel="prefetch" href="/wangdoc/assets/js/244.87fe4877.js"><link rel="prefetch" href="/wangdoc/assets/js/245.7c8a2445.js"><link rel="prefetch" href="/wangdoc/assets/js/246.560997d4.js"><link rel="prefetch" href="/wangdoc/assets/js/247.59d98ae4.js"><link rel="prefetch" href="/wangdoc/assets/js/248.d1ccbc48.js"><link rel="prefetch" href="/wangdoc/assets/js/249.03d46d71.js"><link rel="prefetch" href="/wangdoc/assets/js/25.f48ff59a.js"><link rel="prefetch" href="/wangdoc/assets/js/250.6efa8244.js"><link rel="prefetch" href="/wangdoc/assets/js/251.0026c87f.js"><link rel="prefetch" href="/wangdoc/assets/js/26.40d3655b.js"><link rel="prefetch" href="/wangdoc/assets/js/27.38a65ddc.js"><link rel="prefetch" href="/wangdoc/assets/js/28.8b75da0a.js"><link rel="prefetch" href="/wangdoc/assets/js/29.f13fc723.js"><link rel="prefetch" href="/wangdoc/assets/js/30.315594cc.js"><link rel="prefetch" href="/wangdoc/assets/js/31.a3449021.js"><link rel="prefetch" href="/wangdoc/assets/js/32.948ef6d8.js"><link rel="prefetch" href="/wangdoc/assets/js/33.153aea70.js"><link rel="prefetch" href="/wangdoc/assets/js/34.f2788372.js"><link rel="prefetch" href="/wangdoc/assets/js/35.22e4ae1a.js"><link rel="prefetch" href="/wangdoc/assets/js/36.f48064c8.js"><link rel="prefetch" href="/wangdoc/assets/js/37.3773d5a0.js"><link rel="prefetch" href="/wangdoc/assets/js/38.93705a9c.js"><link rel="prefetch" href="/wangdoc/assets/js/39.2afce206.js"><link rel="prefetch" href="/wangdoc/assets/js/4.4b75fed9.js"><link rel="prefetch" href="/wangdoc/assets/js/40.51df798f.js"><link rel="prefetch" href="/wangdoc/assets/js/41.95d176c1.js"><link rel="prefetch" href="/wangdoc/assets/js/42.5272f207.js"><link rel="prefetch" href="/wangdoc/assets/js/43.34f2e9f3.js"><link rel="prefetch" href="/wangdoc/assets/js/44.1f785bbb.js"><link rel="prefetch" href="/wangdoc/assets/js/45.0102682b.js"><link rel="prefetch" href="/wangdoc/assets/js/46.f52a47d9.js"><link rel="prefetch" href="/wangdoc/assets/js/47.6a133660.js"><link rel="prefetch" href="/wangdoc/assets/js/48.04d685e6.js"><link rel="prefetch" href="/wangdoc/assets/js/49.2733ea4d.js"><link rel="prefetch" href="/wangdoc/assets/js/5.9bd83369.js"><link rel="prefetch" href="/wangdoc/assets/js/50.51c74ba3.js"><link rel="prefetch" href="/wangdoc/assets/js/51.a92da126.js"><link rel="prefetch" href="/wangdoc/assets/js/52.1cf0402d.js"><link rel="prefetch" href="/wangdoc/assets/js/53.c2c2b1fa.js"><link rel="prefetch" href="/wangdoc/assets/js/54.6feeeb84.js"><link rel="prefetch" href="/wangdoc/assets/js/55.808d2125.js"><link rel="prefetch" href="/wangdoc/assets/js/56.deaa66cb.js"><link rel="prefetch" href="/wangdoc/assets/js/57.b5db8ee3.js"><link rel="prefetch" href="/wangdoc/assets/js/58.f719c564.js"><link rel="prefetch" href="/wangdoc/assets/js/59.f679c996.js"><link rel="prefetch" href="/wangdoc/assets/js/6.e73d1c0a.js"><link rel="prefetch" href="/wangdoc/assets/js/60.01882b8f.js"><link rel="prefetch" href="/wangdoc/assets/js/61.024fa35f.js"><link rel="prefetch" href="/wangdoc/assets/js/62.cc7e8280.js"><link rel="prefetch" href="/wangdoc/assets/js/63.75459a91.js"><link rel="prefetch" href="/wangdoc/assets/js/64.2d330a94.js"><link rel="prefetch" href="/wangdoc/assets/js/65.5505951d.js"><link rel="prefetch" href="/wangdoc/assets/js/66.01178aa8.js"><link rel="prefetch" href="/wangdoc/assets/js/67.db24a774.js"><link rel="prefetch" href="/wangdoc/assets/js/68.f463daf1.js"><link rel="prefetch" href="/wangdoc/assets/js/69.9006ec12.js"><link rel="prefetch" href="/wangdoc/assets/js/7.1cf9234b.js"><link rel="prefetch" href="/wangdoc/assets/js/70.e3e09ec2.js"><link rel="prefetch" href="/wangdoc/assets/js/71.6fd94d1d.js"><link rel="prefetch" href="/wangdoc/assets/js/72.47af9285.js"><link rel="prefetch" href="/wangdoc/assets/js/73.8616a5b7.js"><link rel="prefetch" href="/wangdoc/assets/js/74.14894b42.js"><link rel="prefetch" href="/wangdoc/assets/js/75.d341ec20.js"><link rel="prefetch" href="/wangdoc/assets/js/76.4ffc32bc.js"><link rel="prefetch" href="/wangdoc/assets/js/77.aff4cbd1.js"><link rel="prefetch" href="/wangdoc/assets/js/78.ec37d73f.js"><link rel="prefetch" href="/wangdoc/assets/js/79.07fc5bb3.js"><link rel="prefetch" href="/wangdoc/assets/js/8.329baaa5.js"><link rel="prefetch" href="/wangdoc/assets/js/80.14824d90.js"><link rel="prefetch" href="/wangdoc/assets/js/81.76626d4f.js"><link rel="prefetch" href="/wangdoc/assets/js/82.9d73e231.js"><link rel="prefetch" href="/wangdoc/assets/js/83.c3bdcee0.js"><link rel="prefetch" href="/wangdoc/assets/js/84.ac8a7e3b.js"><link rel="prefetch" href="/wangdoc/assets/js/86.8aeb89ff.js"><link rel="prefetch" href="/wangdoc/assets/js/87.fd64aa61.js"><link rel="prefetch" href="/wangdoc/assets/js/88.9da6635a.js"><link rel="prefetch" href="/wangdoc/assets/js/89.e966656e.js"><link rel="prefetch" href="/wangdoc/assets/js/9.8f332061.js"><link rel="prefetch" href="/wangdoc/assets/js/90.70c4ec59.js"><link rel="prefetch" href="/wangdoc/assets/js/91.a334b611.js"><link rel="prefetch" href="/wangdoc/assets/js/92.9214298e.js"><link rel="prefetch" href="/wangdoc/assets/js/93.68cedc81.js"><link rel="prefetch" href="/wangdoc/assets/js/94.572f645a.js"><link rel="prefetch" href="/wangdoc/assets/js/95.fdaacb9c.js"><link rel="prefetch" href="/wangdoc/assets/js/96.4a04f1b6.js"><link rel="prefetch" href="/wangdoc/assets/js/97.5e22edd4.js"><link rel="prefetch" href="/wangdoc/assets/js/98.18154198.js"><link rel="prefetch" href="/wangdoc/assets/js/99.9c3f7eff.js">
    <link rel="stylesheet" href="/wangdoc/assets/css/0.styles.b8e2a6d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="tulp-scrollbar"><div class="scrollbar-wrapper tulp-scrollbar__wrap tulp-scrollbar__wrap--hidden-default"><div class="tulp-scrollbar__view"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wangdoc/" class="home-link router-link-active"><!----> <span class="site-name">WangDoc</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----> <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="icon search-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z"></path></svg></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wangdoc/html/" class="nav-link">
  HTML 教程
</a></div><div class="nav-item"><a href="/wangdoc/js/" class="nav-link">
  JavaScript 教程
</a></div><div class="nav-item"><a href="/wangdoc/es6/" class="nav-link">
  ES6 教程
</a></div><div class="nav-item"><a href="/wangdoc/webapi/" class="nav-link">
  Web API 教程
</a></div><div class="nav-item"><a href="/wangdoc/bash/" class="nav-link router-link-active">
  Bash 脚本教程
</a></div><div class="nav-item"><a href="/wangdoc/ssh/" class="nav-link">
  SSH 教程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="相关链接" class="dropdown-title"><span class="title">相关链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="相关链接" class="mobile-dropdown-title"><span class="title">相关链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/uphg/wangdoc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://wangdoc.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  网道
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div class="tulp-scrollbar"><div class="scrollbar-wrapper tulp-scrollbar__wrap tulp-scrollbar__wrap--hidden-default"><div class="tulp-scrollbar__view"><nav class="nav-links"><div class="nav-item"><a href="/wangdoc/html/" class="nav-link">
  HTML 教程
</a></div><div class="nav-item"><a href="/wangdoc/js/" class="nav-link">
  JavaScript 教程
</a></div><div class="nav-item"><a href="/wangdoc/es6/" class="nav-link">
  ES6 教程
</a></div><div class="nav-item"><a href="/wangdoc/webapi/" class="nav-link">
  Web API 教程
</a></div><div class="nav-item"><a href="/wangdoc/bash/" class="nav-link router-link-active">
  Bash 脚本教程
</a></div><div class="nav-item"><a href="/wangdoc/ssh/" class="nav-link">
  SSH 教程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="相关链接" class="dropdown-title"><span class="title">相关链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="相关链接" class="mobile-dropdown-title"><span class="title">相关链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/uphg/wangdoc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://wangdoc.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  网道
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Bash 脚本教程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wangdoc/bash/" aria-current="page" class="sidebar-link">文档说明</a></li><li><a href="/wangdoc/bash/intro.html" class="sidebar-link">Bash 简介</a></li><li><a href="/wangdoc/bash/grammar.html" class="sidebar-link">Bash 的基本语法</a></li><li><a href="/wangdoc/bash/expansion.html" class="sidebar-link">Bash 的模式扩展</a></li><li><a href="/wangdoc/bash/quotation.html" class="sidebar-link">引号和转义</a></li><li><a href="/wangdoc/bash/variable.html" aria-current="page" class="active sidebar-link">Bash 变量</a></li><li><a href="/wangdoc/bash/string.html" class="sidebar-link">字符串操作</a></li><li><a href="/wangdoc/bash/arithmetic.html" class="sidebar-link">Bash 的算术运算</a></li><li><a href="/wangdoc/bash/readline.html" class="sidebar-link">Bash 行操作</a></li><li><a href="/wangdoc/bash/stack.html" class="sidebar-link">目录堆栈</a></li><li><a href="/wangdoc/bash/script.html" class="sidebar-link">Bash 脚本入门</a></li><li><a href="/wangdoc/bash/read.html" class="sidebar-link">read 命令</a></li><li><a href="/wangdoc/bash/condition.html" class="sidebar-link">条件判断</a></li><li><a href="/wangdoc/bash/loop.html" class="sidebar-link">循环</a></li><li><a href="/wangdoc/bash/function.html" class="sidebar-link">Bash 函数</a></li><li><a href="/wangdoc/bash/array.html" class="sidebar-link">数组</a></li><li><a href="/wangdoc/bash/set.html" class="sidebar-link">set 命令，shopt 命令</a></li><li><a href="/wangdoc/bash/debug.html" class="sidebar-link">脚本除错</a></li><li><a href="/wangdoc/bash/mktemp.html" class="sidebar-link">mktemp 命令，trap 命令</a></li><li><a href="/wangdoc/bash/startup.html" class="sidebar-link">Bash 启动环境</a></li><li><a href="/wangdoc/bash/prompt.html" class="sidebar-link">命令提示符</a></li></ul></section></li></ul> </div></div><div class="tulp-scrollbar__bar is-horizontal"><div class="tulp-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="tulp-scrollbar__bar is-vertical"><div class="tulp-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></aside> <main class="page"> <div class="re-page-top"><h2 class="title"><span>Bash 变量</span></h2></div> <div class="page-index"><div class="page-index-title"><span class="open-catalog"><svg aria-hidden="true" id="icon-arrow-right" viewBox="0 0 1024 1024" class="page-index-icon arrow-right"><path d="M797.21457646 444.0233542C639.18078066 323.41640029 481.14698487 202.80944727 323.13223847 82.18344394 266.85068662 39.24639688 185.76131065 79.36563623 185.76131065 150.16009062v723.67823145c0 70.7944544 81.08937597 110.91528018 137.37092782 67.95918369 158.01474638-120.60854033 316.04854219-241.21390605 474.08233799-361.83832207 44.83410644-34.21851065 44.83410644-101.69985674 0-135.93582949z"></path></svg> <span class="text">目录</span></span></div> <div class="page-index-content"><div class="page-catalog" style="display:none;"><div class="synopsis-wrap"><ul class="synopsis-ul"><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#简介" class="synopsis-link">简介</a><ul class="synopsis-ul"><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#环境变量" class="synopsis-link">环境变量</a></li><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#自定义变量" class="synopsis-link">自定义变量</a></li></ul></li><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#创建变量" class="synopsis-link">创建变量</a></li><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#读取变量" class="synopsis-link">读取变量</a></li><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#删除变量" class="synopsis-link">删除变量</a></li><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#输出变量-export-命令" class="synopsis-link">输出变量，export 命令</a></li><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#特殊变量" class="synopsis-link">特殊变量</a></li><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#变量的默认值" class="synopsis-link">变量的默认值</a></li><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#declare-命令" class="synopsis-link">declare 命令</a></li><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#readonly-命令" class="synopsis-link">readonly 命令</a></li><li class="synopsis-li"><a href="/wangdoc/bash/variable.html#let-命令" class="synopsis-link">let 命令</a></li></ul></div></div></div></div> <div class="theme-default-content content__default"><h1 id="bash-变量"><a href="#bash-变量" class="header-anchor">#</a> Bash 变量</h1> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <p>Bash 变量分成环境变量和自定义变量两类。</p> <h3 id="环境变量"><a href="#环境变量" class="header-anchor">#</a> 环境变量</h3> <p>环境变量是 Bash 环境自带的变量，进入 Shell 时已经定义好了，可以直接使用。它们通常是系统定义好的，也可以由用户从父 Shell 传入子 Shell。</p> <p><code>env</code>命令或<code>printenv</code>命令，可以显示所有环境变量。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">env</span>
<span class="token comment"># 或者</span>
$ <span class="token function">printenv</span>
</code></pre></div><p>下面是一些常见的环境变量。</p> <ul><li><code>BASHPID</code>：Bash 进程的进程 ID。</li> <li><code>BASHOPTS</code>：当前 Shell 的参数，可以用<code>shopt</code>命令修改。</li> <li><code>DISPLAY</code>：图形环境的显示器名字，通常是<code>:0</code>，表示 X Server 的第一个显示器。</li> <li><code>EDITOR</code>：默认的文本编辑器。</li> <li><code>HOME</code>：用户的主目录。</li> <li><code>HOST</code>：当前主机的名称。</li> <li><code>IFS</code>：词与词之间的分隔符，默认为空格。</li> <li><code>LANG</code>：字符集以及语言编码，比如<code>zh_CN.UTF-8</code>。</li> <li><code>PATH</code>：由冒号分开的目录列表，当输入可执行程序名后，会搜索这个目录列表。</li> <li><code>PS1</code>：Shell 提示符。</li> <li><code>PS2</code>： 输入多行命令时，次要的 Shell 提示符。</li> <li><code>PWD</code>：当前工作目录。</li> <li><code>RANDOM</code>：返回一个0到32767之间的随机数。</li> <li><code>SHELL</code>：Shell 的名字。</li> <li><code>SHELLOPTS</code>：启动当前 Shell 的<code>set</code>命令的参数，参见《set 命令》一章。</li> <li><code>TERM</code>：终端类型名，即终端仿真器所用的协议。</li> <li><code>UID</code>：当前用户的 ID 编号。</li> <li><code>USER</code>：当前用户的用户名。</li></ul> <p>很多环境变量很少发生变化，而且是只读的，可以视为常量。由于它们的变量名全部都是大写，所以传统上，如果用户要自己定义一个常量，也会使用全部大写的变量名。</p> <p>注意，Bash 变量名区分大小写，<code>HOME</code>和<code>home</code>是两个不同的变量。</p> <p>查看单个环境变量的值，可以使用<code>printenv</code>命令或<code>echo</code>命令。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">printenv</span> <span class="token environment constant">PATH</span>
<span class="token comment"># 或者</span>
$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>
</code></pre></div><p>注意，<code>printenv</code>命令后面的变量名，不用加前缀<code>$</code>。</p> <h3 id="自定义变量"><a href="#自定义变量" class="header-anchor">#</a> 自定义变量</h3> <p>自定义变量是用户在当前 Shell 里面自己定义的变量，仅在当前 Shell 可用。一旦退出当前 Shell，该变量就不存在了。</p> <p><code>set</code>命令可以显示所有变量（包括环境变量和自定义变量），以及所有的 Bash 函数。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">set</span>
</code></pre></div><h2 id="创建变量"><a href="#创建变量" class="header-anchor">#</a> 创建变量</h2> <p>用户创建变量的时候，变量名必须遵守下面的规则。</p> <ul><li>字母、数字和下划线字符组成。</li> <li>第一个字符必须是一个字母或一个下划线，不能是数字。</li> <li>不允许出现空格和标点符号。</li></ul> <p>变量声明的语法如下。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">variable</span><span class="token operator">=</span>value
</code></pre></div><p>上面命令中，等号左边是变量名，右边是变量。注意，等号两边不能有空格。</p> <p>如果变量的值包含空格，则必须将值放在引号中。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">myvar</span><span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span>
</code></pre></div><p>Bash 没有数据类型的概念，所有的变量值都是字符串。</p> <p>下面是一些自定义变量的例子。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">a</span><span class="token operator">=</span>z                     <span class="token comment"># 变量 a 赋值为字符串 z</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token string">&quot;a string&quot;</span>            <span class="token comment"># 变量值包含空格，就必须放在引号里面</span>
<span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token string">&quot;a string and <span class="token variable">$b</span>&quot;</span>     <span class="token comment"># 变量值可以引用其他变量的值</span>
<span class="token assign-left variable">d</span><span class="token operator">=</span><span class="token string">&quot;<span class="token entity" title="\t">\t</span><span class="token entity" title="\t">\t</span>a string<span class="token entity" title="\n">\n</span>&quot;</span>      <span class="token comment"># 变量值可以使用转义字符</span>
<span class="token assign-left variable">e</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> -l foo.txt<span class="token variable">)</span></span>      <span class="token comment"># 变量值可以是命令的执行结果</span>
<span class="token assign-left variable">f</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span><span class="token number">5</span> <span class="token operator">*</span> <span class="token number">7</span><span class="token variable">))</span></span>            <span class="token comment"># 变量值可以是数学运算的结果</span>
</code></pre></div><p>变量可以重复赋值，后面的赋值会覆盖前面的赋值。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token number">1</span>
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token number">2</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">$foo</span>
<span class="token number">2</span>
</code></pre></div><p>上面例子中，变量<code>foo</code>的第二次赋值会覆盖第一次赋值。</p> <p>如果同一行定义多个变量，必须使用分号（<code>;</code>）分隔。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token assign-left variable">bar</span><span class="token operator">=</span><span class="token number">2</span>
</code></pre></div><p>上面例子中，同一行定义了<code>foo</code>和<code>bar</code>两个变量。</p> <h2 id="读取变量"><a href="#读取变量" class="header-anchor">#</a> 读取变量</h2> <p>读取变量的时候，直接在变量名前加上<code>$</code>就可以了。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span>bar
$ <span class="token builtin class-name">echo</span> <span class="token variable">$foo</span>
bar
</code></pre></div><p>每当 Shell 看到以<code>$</code>开头的单词时，就会尝试读取这个变量名对应的值。</p> <p>如果变量不存在，Bash 不会报错，而会输出空字符。</p> <p>由于<code>$</code>在 Bash 中有特殊含义，把它当作美元符号使用时，一定要非常小心，</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> The total is <span class="token variable">$100</span>.00
The total is 00.00
</code></pre></div><p>上面命令的原意是输入<code>$100</code>，但是 Bash 将<code>$1</code>解释成了变量，该变量为空，因此输入就变成了<code>00.00</code>。所以，如果要使用<code>$</code>的原义，需要在<code>$</code>前面放上反斜杠，进行转义。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> The total is <span class="token punctuation">\</span><span class="token variable">$100</span>.00
The total is <span class="token variable">$100</span>.00
</code></pre></div><p>读取变量的时候，变量名也可以使用花括号<code>{}</code>包围，比如<code>$a</code>也可以写成<code>${a}</code>。这种写法可以用于变量名与其他字符连用的情况。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">a</span><span class="token operator">=</span>foo
$ <span class="token builtin class-name">echo</span> <span class="token variable">$a_file</span>

$ <span class="token builtin class-name">echo</span> <span class="token variable">${a}</span>_file
foo_file
</code></pre></div><p>上面代码中，变量名<code>a_file</code>不会有任何输出，因为 Bash 将其整个解释为变量，而这个变量是不存在的。只有用花括号区分<code>$a</code>，Bash 才能正确解读。</p> <p>事实上，读取变量的语法<code>$foo</code>，可以看作是<code>${foo}</code>的简写形式。</p> <p>如果变量的值本身也是变量，可以使用<code>${!varname}</code>的语法，读取最终的值。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">myvar</span><span class="token operator">=</span><span class="token environment constant">USER</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">!</span>myvar}</span>
ruanyf
</code></pre></div><p>上面的例子中，变量<code>myvar</code>的值是<code>USER</code>，<code>${!myvar}</code>的写法将其展开成最终的值。</p> <p>如果变量值包含连续空格（或制表符和换行符），最好放在双引号里面读取。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token string">&quot;1 2  3&quot;</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">$a</span>
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span>&quot;</span>
<span class="token number">1</span> <span class="token number">2</span>  <span class="token number">3</span>
</code></pre></div><p>上面示例中，变量<code>a</code>的值包含两个连续空格。如果直接读取，Shell 会将连续空格合并成一个。只有放在双引号里面读取，才能保持原来的格式。</p> <h2 id="删除变量"><a href="#删除变量" class="header-anchor">#</a> 删除变量</h2> <p><code>unset</code>命令用来删除一个变量。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">unset</span> NAME
</code></pre></div><p>这个命令不是很有用。因为不存在的 Bash 变量一律等于空字符串，所以即使<code>unset</code>命令删除了变量，还是可以读取这个变量，值为空字符串。</p> <p>所以，删除一个变量，也可以将这个变量设成空字符串。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token string">''</span>
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span>
</code></pre></div><p>上面两种写法，都是删除了变量<code>foo</code>。由于不存在的值默认为空字符串，所以后一种写法可以在等号右边不写任何值。</p> <h2 id="输出变量-export-命令"><a href="#输出变量-export-命令" class="header-anchor">#</a> 输出变量，export 命令</h2> <p>用户创建的变量仅可用于当前 Shell，子 Shell 默认读取不到父 Shell 定义的变量。为了把变量传递给子 Shell，需要使用<code>export</code>命令。这样输出的变量，对于子 Shell 来说就是环境变量。</p> <p><code>export</code>命令用来向子 Shell 输出变量。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">NAME</span><span class="token operator">=</span>foo
<span class="token builtin class-name">export</span> NAME
</code></pre></div><p>上面命令输出了变量<code>NAME</code>。变量的赋值和输出也可以在一个步骤中完成。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">NAME</span><span class="token operator">=</span>value
</code></pre></div><p>上面命令执行后，当前 Shell 及随后新建的子 Shell，都可以读取变量<code>$NAME</code>。</p> <p>子 Shell 如果修改继承的变量，不会影响父 Shell。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 输出变量 $foo</span>
$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">foo</span><span class="token operator">=</span>bar

<span class="token comment"># 新建子 Shell</span>
$ <span class="token function">bash</span>

<span class="token comment"># 读取 $foo</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">$foo</span>
bar

<span class="token comment"># 修改继承的变量</span>
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span>baz

<span class="token comment"># 退出子 Shell</span>
$ <span class="token builtin class-name">exit</span>

<span class="token comment"># 读取 $foo</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">$foo</span>
bar
</code></pre></div><p>上面例子中，子 Shell 修改了继承的变量<code>$foo</code>，对父 Shell 没有影响。</p> <h2 id="特殊变量"><a href="#特殊变量" class="header-anchor">#</a> 特殊变量</h2> <p>Bash 提供一些特殊变量。这些变量的值由 Shell 提供，用户不能进行赋值。</p> <p>（1）<code>$?</code></p> <p><code>$?</code>为上一个命令的退出码，用来判断上一个命令是否执行成功。返回值是<code>0</code>，表示上一个命令执行成功；如果是非零，上一个命令执行失败。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">ls</span> doesnotexist
ls: doesnotexist: No such <span class="token function">file</span> or directory

$ <span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
<span class="token number">1</span>
</code></pre></div><p>上面例子中，<code>ls</code>命令查看一个不存在的文件，导致报错。<code>$?</code>为1，表示上一个命令执行失败。</p> <p>（2）<code>$$</code></p> <p><code>$$</code>为当前 Shell 的进程 ID。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable">$$</span>
<span class="token number">10662</span>
</code></pre></div><p>这个特殊变量可以用来命名临时文件。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">LOGFILE</span><span class="token operator">=</span>/tmp/output_log.<span class="token variable">$$</span>
</code></pre></div><p>（3）<code>$_</code></p> <p><code>$_</code>为上一个命令的最后一个参数。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">grep</span> dictionary /usr/share/dict/words
dictionary

$ <span class="token builtin class-name">echo</span> <span class="token variable">$_</span>
/usr/share/dict/words
</code></pre></div><p>（4）<code>$!</code></p> <p><code>$!</code>为最近一个后台执行的异步命令的进程 ID。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ firefox <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">11064</span>

$ <span class="token builtin class-name">echo</span> <span class="token variable">$!</span>
<span class="token number">11064</span>
</code></pre></div><p>上面例子中，<code>firefox</code>是后台运行的命令，<code>$!</code>返回该命令的进程 ID。</p> <p>（5）<code>$0</code></p> <p><code>$0</code>为当前 Shell 的名称（在命令行直接执行时）或者脚本名（在脚本中执行时）。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable">$0</span>
<span class="token function">bash</span>
</code></pre></div><p>上面例子中，<code>$0</code>返回当前运行的是 Bash。</p> <p>（6）<code>$-</code></p> <p><code>$-</code>为当前 Shell 的启动参数。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> $-
himBHs
</code></pre></div><p>（7）<code>$@</code>和<code>$#</code></p> <p><code>$#</code>表示脚本的参数数量，<code>$@</code>表示脚本的参数值，参见脚本一章。</p> <h2 id="变量的默认值"><a href="#变量的默认值" class="header-anchor">#</a> 变量的默认值</h2> <p>Bash 提供四个特殊语法，跟变量的默认值有关，目的是保证变量不为空。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">${varname<span class="token operator">:-</span>word}</span>
</code></pre></div><p>上面语法的含义是，如果变量<code>varname</code>存在且不为空，则返回它的值，否则返回<code>word</code>。它的目的是返回一个默认值，比如<code>${count:-0}</code>表示变量<code>count</code>不存在时返回<code>0</code>。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">${varname<span class="token operator">:=</span>word}</span>
</code></pre></div><p>上面语法的含义是，如果变量<code>varname</code>存在且不为空，则返回它的值，否则将它设为<code>word</code>，并且返回<code>word</code>。它的目的是设置变量的默认值，比如<code>${count:=0}</code>表示变量<code>count</code>不存在时返回<code>0</code>，且将<code>count</code>设为<code>0</code>。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">${varname<span class="token operator">:+</span>word}</span>
</code></pre></div><p>上面语法的含义是，如果变量名存在且不为空，则返回<code>word</code>，否则返回空值。它的目的是测试变量是否存在，比如<code>${count:+1}</code>表示变量<code>count</code>存在时返回<code>1</code>（表示<code>true</code>），否则返回空值。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">${varname<span class="token operator">:?</span>message}</span>
</code></pre></div><p>上面语法的含义是，如果变量<code>varname</code>存在且不为空，则返回它的值，否则打印出<code>varname: message</code>，并中断脚本的执行。如果省略了<code>message</code>，则输出默认的信息“parameter null or not set.”。它的目的是防止变量未定义，比如<code>${count:?&quot;undefined!&quot;}</code>表示变量<code>count</code>未定义时就中断执行，抛出错误，返回给定的报错信息<code>undefined!</code>。</p> <p>上面四种语法如果用在脚本中，变量名的部分可以用数字<code>1</code>到<code>9</code>，表示脚本的参数。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">filename</span><span class="token operator">=</span><span class="token variable">${1<span class="token operator">:?</span>&quot;filename missing.&quot;}</span>
</code></pre></div><p>上面代码出现在脚本中，<code>1</code>表示脚本的第一个参数。如果该参数不存在，就退出脚本并报错。</p> <h2 id="declare-命令"><a href="#declare-命令" class="header-anchor">#</a> declare 命令</h2> <p><code>declare</code>命令可以声明一些特殊类型的变量，为变量设置一些限制，比如声明只读类型的变量和整数类型的变量。</p> <p>它的语法形式如下。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> OPTION <span class="token assign-left variable">VARIABLE</span><span class="token operator">=</span>value
</code></pre></div><p><code>declare</code>命令的主要参数（OPTION）如下。</p> <ul><li><code>-a</code>：声明数组变量。</li> <li><code>-f</code>：输出所有函数定义。</li> <li><code>-F</code>：输出所有函数名。</li> <li><code>-i</code>：声明整数变量。</li> <li><code>-l</code>：声明变量为小写字母。</li> <li><code>-p</code>：查看变量信息。</li> <li><code>-r</code>：声明只读变量。</li> <li><code>-u</code>：声明变量为大写字母。</li> <li><code>-x</code>：该变量输出为环境变量。</li></ul> <p><code>declare</code>命令如果用在函数中，声明的变量只在函数内部有效，等同于<code>local</code>命令。</p> <p>不带任何参数时，<code>declare</code>命令输出当前环境的所有变量，包括函数在内，等同于不带有任何参数的<code>set</code>命令。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span>
</code></pre></div><p><strong>（1）<code>-i</code>参数</strong></p> <p><code>-i</code>参数声明整数变量以后，可以直接进行数学运算。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">val1</span><span class="token operator">=</span><span class="token number">12</span> <span class="token assign-left variable">val2</span><span class="token operator">=</span><span class="token number">5</span>
$ <span class="token builtin class-name">declare</span> -i result
$ <span class="token assign-left variable">result</span><span class="token operator">=</span>val1*val2
$ <span class="token builtin class-name">echo</span> <span class="token variable">$result</span>
<span class="token number">60</span>
</code></pre></div><p>上面例子中，如果变量<code>result</code>不声明为整数，<code>val1*val2</code>会被当作字面量，不会进行整数运算。另外，<code>val1</code>和<code>val2</code>其实不需要声明为整数，因为只要<code>result</code>声明为整数，它的赋值就会自动解释为整数运算。</p> <p>注意，一个变量声明为整数以后，依然可以被改写为字符串。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token number">12</span>
$ <span class="token assign-left variable">var</span><span class="token operator">=</span>foo
$ <span class="token builtin class-name">echo</span> <span class="token variable">$var</span>
<span class="token number">0</span>
</code></pre></div><p>上面例子中，变量<code>var</code>声明为整数，覆盖以后，Bash 不会报错，但会赋以不确定的值，上面的例子中可能输出0，也可能输出的是3。</p> <p><strong>（2）<code>-x</code>参数</strong></p> <p><code>-x</code>参数等同于<code>export</code>命令，可以输出一个变量为子 Shell 的环境变量。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -x foo
<span class="token comment"># 等同于</span>
$ <span class="token builtin class-name">export</span> foo
</code></pre></div><p><strong>（3）<code>-r</code>参数</strong></p> <p><code>-r</code>参数可以声明只读变量，无法改变变量值，也不能<code>unset</code>变量。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -r <span class="token assign-left variable">bar</span><span class="token operator">=</span><span class="token number">1</span>

$ <span class="token assign-left variable">bar</span><span class="token operator">=</span><span class="token number">2</span>
bash: bar：只读变量
$ <span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
<span class="token number">1</span>

$ <span class="token builtin class-name">unset</span> bar
bash: bar：只读变量
$ <span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
<span class="token number">1</span>
</code></pre></div><p>上面例子中，后两个赋值语句都会报错，命令执行失败。</p> <p><strong>（4）<code>-u</code>参数</strong></p> <p><code>-u</code>参数声明变量为大写字母，可以自动把变量值转成大写字母。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -u foo
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span>upper
$ <span class="token builtin class-name">echo</span> <span class="token variable">$foo</span>
UPPER
</code></pre></div><p><strong>（5）<code>-l</code>参数</strong></p> <p><code>-l</code>参数声明变量为小写字母，可以自动把变量值转成小写字母。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -l bar
$ <span class="token assign-left variable">bar</span><span class="token operator">=</span>LOWER
$ <span class="token builtin class-name">echo</span> <span class="token variable">$bar</span>
lower
</code></pre></div><p><strong>（6）<code>-p</code>参数</strong></p> <p><code>-p</code>参数输出变量信息。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span>hello
$ <span class="token builtin class-name">declare</span> -p foo
<span class="token builtin class-name">declare</span> -- <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token string">&quot;hello&quot;</span>
$ <span class="token builtin class-name">declare</span> -p bar
bar：未找到
</code></pre></div><p>上面例子中，<code>declare -p</code>可以输出已定义变量的值，对于未定义的变量，会提示找不到。</p> <p>如果不提供变量名，<code>declare -p</code>输出所有变量的信息。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -p
</code></pre></div><p><strong>（7）<code>-f</code>参数</strong></p> <p><code>-f</code>参数输出当前环境的所有函数，包括它的定义。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -f
</code></pre></div><p><strong>（8）<code>-F</code>参数</strong></p> <p><code>-F</code>参数输出当前环境的所有函数名，不包含函数定义。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">declare</span> -F
</code></pre></div><h2 id="readonly-命令"><a href="#readonly-命令" class="header-anchor">#</a> readonly 命令</h2> <p><code>readonly</code>命令等同于<code>declare -r</code>，用来声明只读变量，不能改变变量值，也不能<code>unset</code>变量。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">readonly</span> <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token number">1</span>
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token number">2</span>
bash: foo：只读变量
$ <span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
<span class="token number">1</span>
</code></pre></div><p>上面例子中，更改只读变量<code>foo</code>会报错，命令执行失败。</p> <p><code>readonly</code>命令有三个参数。</p> <ul><li><code>-f</code>：声明的变量为函数名。</li> <li><code>-p</code>：打印出所有的只读变量。</li> <li><code>-a</code>：声明的变量为数组。</li></ul> <h2 id="let-命令"><a href="#let-命令" class="header-anchor">#</a> let 命令</h2> <p><code>let</code>命令声明变量时，可以直接执行算术表达式。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">let</span> <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token number">1</span>+2
$ <span class="token builtin class-name">echo</span> <span class="token variable">$foo</span>
<span class="token number">3</span>
</code></pre></div><p>上面例子中，<code>let</code>命令可以直接计算<code>1 + 2</code>。</p> <p><code>let</code>命令的参数表达式如果包含空格，就需要使用引号。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">let</span> <span class="token string">&quot;foo = 1 + 2&quot;</span>
</code></pre></div><p><code>let</code>可以同时对多个变量赋值，赋值表达式之间使用空格分隔。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">let</span> <span class="token string">&quot;v1 = 1&quot;</span> <span class="token string">&quot;v2 = v1++&quot;</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">$v1</span>,<span class="token variable">$v2</span>
<span class="token number">2,1</span>
</code></pre></div><p>上面例子中，<code>let</code>声明了两个变量<code>v1</code>和<code>v2</code>，其中<code>v2</code>等于<code>v1++</code>，表示先返回<code>v1</code>的值，然后<code>v1</code>自增。</p> <p>这种语法支持的运算符，参考《Bash 的算术运算》一章。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021-07-20 14:30</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="bi bi-chevron-left"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"></path></svg> <a href="/wangdoc/bash/quotation.html" class="prev">
        引号和转义
      </a></span> <span class="next"><a href="/wangdoc/bash/string.html">
        字符串操作
      </a> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="bi bi-chevron-right"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path></svg></span></p></div> </main></div></div></div><div class="tulp-scrollbar__bar is-horizontal"><div class="tulp-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="tulp-scrollbar__bar is-vertical"><div class="tulp-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/wangdoc/assets/js/app.8723d088.js" defer></script><script src="/wangdoc/assets/js/2.9a1a264e.js" defer></script><script src="/wangdoc/assets/js/85.0d32b3d5.js" defer></script><script src="/wangdoc/assets/js/3.59361ec6.js" defer></script>
  </body>
</html>
