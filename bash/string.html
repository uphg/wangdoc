<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>字符串操作 | WangDoc</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="/wangdoc/font/index.css">
    <meta name="description" content="Carried from Ruan Yifeng">
    
    <link rel="preload" href="/wangdoc/assets/css/0.styles.b8e2a6d5.css" as="style"><link rel="preload" href="/wangdoc/assets/js/app.8723d088.js" as="script"><link rel="preload" href="/wangdoc/assets/js/2.9a1a264e.js" as="script"><link rel="preload" href="/wangdoc/assets/js/84.ac8a7e3b.js" as="script"><link rel="preload" href="/wangdoc/assets/js/3.59361ec6.js" as="script"><link rel="prefetch" href="/wangdoc/assets/js/10.fffc7a41.js"><link rel="prefetch" href="/wangdoc/assets/js/100.3e59f891.js"><link rel="prefetch" href="/wangdoc/assets/js/101.ef65efb9.js"><link rel="prefetch" href="/wangdoc/assets/js/102.75a61923.js"><link rel="prefetch" href="/wangdoc/assets/js/103.950126da.js"><link rel="prefetch" href="/wangdoc/assets/js/104.0a3f6380.js"><link rel="prefetch" href="/wangdoc/assets/js/105.a8a2751c.js"><link rel="prefetch" href="/wangdoc/assets/js/106.0909bfd6.js"><link rel="prefetch" href="/wangdoc/assets/js/107.61dd327f.js"><link rel="prefetch" href="/wangdoc/assets/js/108.208d689b.js"><link rel="prefetch" href="/wangdoc/assets/js/109.3429b861.js"><link rel="prefetch" href="/wangdoc/assets/js/11.8e77b7fa.js"><link rel="prefetch" href="/wangdoc/assets/js/110.b17a98c3.js"><link rel="prefetch" href="/wangdoc/assets/js/111.67089df7.js"><link rel="prefetch" href="/wangdoc/assets/js/112.a61e4aac.js"><link rel="prefetch" href="/wangdoc/assets/js/113.8d129cc4.js"><link rel="prefetch" href="/wangdoc/assets/js/114.91202325.js"><link rel="prefetch" href="/wangdoc/assets/js/115.9232db7a.js"><link rel="prefetch" href="/wangdoc/assets/js/116.3f57f7fa.js"><link rel="prefetch" href="/wangdoc/assets/js/117.39fbb4a2.js"><link rel="prefetch" href="/wangdoc/assets/js/118.98fbb079.js"><link rel="prefetch" href="/wangdoc/assets/js/119.b802df94.js"><link rel="prefetch" href="/wangdoc/assets/js/12.5dfcc468.js"><link rel="prefetch" href="/wangdoc/assets/js/120.f2f3e969.js"><link rel="prefetch" href="/wangdoc/assets/js/121.ddc41600.js"><link rel="prefetch" href="/wangdoc/assets/js/122.1f9e6996.js"><link rel="prefetch" href="/wangdoc/assets/js/123.3dab5cb7.js"><link rel="prefetch" href="/wangdoc/assets/js/124.b5634c42.js"><link rel="prefetch" href="/wangdoc/assets/js/125.ba352811.js"><link rel="prefetch" href="/wangdoc/assets/js/126.98b393c9.js"><link rel="prefetch" href="/wangdoc/assets/js/127.b496b115.js"><link rel="prefetch" href="/wangdoc/assets/js/128.efd428c1.js"><link rel="prefetch" href="/wangdoc/assets/js/129.611df66b.js"><link rel="prefetch" href="/wangdoc/assets/js/13.a62f0816.js"><link rel="prefetch" href="/wangdoc/assets/js/130.4b7a2d82.js"><link rel="prefetch" href="/wangdoc/assets/js/131.bdc89fb1.js"><link rel="prefetch" href="/wangdoc/assets/js/132.81e9f548.js"><link rel="prefetch" href="/wangdoc/assets/js/133.5eb3b1b7.js"><link rel="prefetch" href="/wangdoc/assets/js/134.38475e6b.js"><link rel="prefetch" href="/wangdoc/assets/js/135.97431481.js"><link rel="prefetch" href="/wangdoc/assets/js/136.30b1e941.js"><link rel="prefetch" href="/wangdoc/assets/js/137.73813383.js"><link rel="prefetch" href="/wangdoc/assets/js/138.b01b5323.js"><link rel="prefetch" href="/wangdoc/assets/js/139.c1684e59.js"><link rel="prefetch" href="/wangdoc/assets/js/14.84f939d6.js"><link rel="prefetch" href="/wangdoc/assets/js/140.f4558659.js"><link rel="prefetch" href="/wangdoc/assets/js/141.1bc13a9c.js"><link rel="prefetch" href="/wangdoc/assets/js/142.055417da.js"><link rel="prefetch" href="/wangdoc/assets/js/143.e601ea78.js"><link rel="prefetch" href="/wangdoc/assets/js/144.1e73528e.js"><link rel="prefetch" href="/wangdoc/assets/js/145.6bf0a2fe.js"><link rel="prefetch" href="/wangdoc/assets/js/146.a1ae1ce8.js"><link rel="prefetch" href="/wangdoc/assets/js/147.b8be9cae.js"><link rel="prefetch" href="/wangdoc/assets/js/148.8cbf7229.js"><link rel="prefetch" href="/wangdoc/assets/js/149.01b6ab4a.js"><link rel="prefetch" href="/wangdoc/assets/js/15.82f0e11e.js"><link rel="prefetch" href="/wangdoc/assets/js/150.4c804003.js"><link rel="prefetch" href="/wangdoc/assets/js/151.d7e5eb85.js"><link rel="prefetch" href="/wangdoc/assets/js/152.14229211.js"><link rel="prefetch" href="/wangdoc/assets/js/153.0d37926e.js"><link rel="prefetch" href="/wangdoc/assets/js/154.8bcfe02c.js"><link rel="prefetch" href="/wangdoc/assets/js/155.527ee7a3.js"><link rel="prefetch" href="/wangdoc/assets/js/156.38bc424c.js"><link rel="prefetch" href="/wangdoc/assets/js/157.3e0373c8.js"><link rel="prefetch" href="/wangdoc/assets/js/158.fc8b752f.js"><link rel="prefetch" href="/wangdoc/assets/js/159.c93507b3.js"><link rel="prefetch" href="/wangdoc/assets/js/16.5f5758fa.js"><link rel="prefetch" href="/wangdoc/assets/js/160.c4b534f5.js"><link rel="prefetch" href="/wangdoc/assets/js/161.06c90281.js"><link rel="prefetch" href="/wangdoc/assets/js/162.bd0061bc.js"><link rel="prefetch" href="/wangdoc/assets/js/163.7dc573cc.js"><link rel="prefetch" href="/wangdoc/assets/js/164.46c37e7e.js"><link rel="prefetch" href="/wangdoc/assets/js/165.8c3320bc.js"><link rel="prefetch" href="/wangdoc/assets/js/166.52bd3222.js"><link rel="prefetch" href="/wangdoc/assets/js/167.dbb3c808.js"><link rel="prefetch" href="/wangdoc/assets/js/168.e63c4c28.js"><link rel="prefetch" href="/wangdoc/assets/js/169.2a437e05.js"><link rel="prefetch" href="/wangdoc/assets/js/17.053fde3c.js"><link rel="prefetch" href="/wangdoc/assets/js/170.b7f98abe.js"><link rel="prefetch" href="/wangdoc/assets/js/171.b3b224c7.js"><link rel="prefetch" href="/wangdoc/assets/js/172.080f2b03.js"><link rel="prefetch" href="/wangdoc/assets/js/173.87af14bd.js"><link rel="prefetch" href="/wangdoc/assets/js/174.b91695a3.js"><link rel="prefetch" href="/wangdoc/assets/js/175.9db61895.js"><link rel="prefetch" href="/wangdoc/assets/js/176.026ab96b.js"><link rel="prefetch" href="/wangdoc/assets/js/177.7990a06a.js"><link rel="prefetch" href="/wangdoc/assets/js/178.374813d2.js"><link rel="prefetch" href="/wangdoc/assets/js/179.f35e9bb6.js"><link rel="prefetch" href="/wangdoc/assets/js/18.4f711126.js"><link rel="prefetch" href="/wangdoc/assets/js/180.c16c6d3b.js"><link rel="prefetch" href="/wangdoc/assets/js/181.3a5462f6.js"><link rel="prefetch" href="/wangdoc/assets/js/182.26ff6d1c.js"><link rel="prefetch" href="/wangdoc/assets/js/183.8c47c990.js"><link rel="prefetch" href="/wangdoc/assets/js/184.71fbdaa4.js"><link rel="prefetch" href="/wangdoc/assets/js/185.e0399587.js"><link rel="prefetch" href="/wangdoc/assets/js/186.b4744693.js"><link rel="prefetch" href="/wangdoc/assets/js/187.8c1edd7c.js"><link rel="prefetch" href="/wangdoc/assets/js/188.3de1c37e.js"><link rel="prefetch" href="/wangdoc/assets/js/189.d946e11d.js"><link rel="prefetch" href="/wangdoc/assets/js/19.f34b619c.js"><link rel="prefetch" href="/wangdoc/assets/js/190.612f181f.js"><link rel="prefetch" href="/wangdoc/assets/js/191.a81ba58e.js"><link rel="prefetch" href="/wangdoc/assets/js/192.42db791a.js"><link rel="prefetch" href="/wangdoc/assets/js/193.4ec3f969.js"><link rel="prefetch" href="/wangdoc/assets/js/194.fd924de9.js"><link rel="prefetch" href="/wangdoc/assets/js/195.ee0924e6.js"><link rel="prefetch" href="/wangdoc/assets/js/196.5dbb1d15.js"><link rel="prefetch" href="/wangdoc/assets/js/197.701e76ac.js"><link rel="prefetch" href="/wangdoc/assets/js/198.99352439.js"><link rel="prefetch" href="/wangdoc/assets/js/199.18de1981.js"><link rel="prefetch" href="/wangdoc/assets/js/20.63fcdeab.js"><link rel="prefetch" href="/wangdoc/assets/js/200.473e83b9.js"><link rel="prefetch" href="/wangdoc/assets/js/201.0876610e.js"><link rel="prefetch" href="/wangdoc/assets/js/202.850bec6f.js"><link rel="prefetch" href="/wangdoc/assets/js/203.5c6a0391.js"><link rel="prefetch" href="/wangdoc/assets/js/204.f6e98d0c.js"><link rel="prefetch" href="/wangdoc/assets/js/205.85a84dce.js"><link rel="prefetch" href="/wangdoc/assets/js/206.73f9ea55.js"><link rel="prefetch" href="/wangdoc/assets/js/207.877457e9.js"><link rel="prefetch" href="/wangdoc/assets/js/208.4ab305de.js"><link rel="prefetch" href="/wangdoc/assets/js/209.f631d42b.js"><link rel="prefetch" href="/wangdoc/assets/js/21.53646bd4.js"><link rel="prefetch" href="/wangdoc/assets/js/210.54866ad8.js"><link rel="prefetch" href="/wangdoc/assets/js/211.8a2461ad.js"><link rel="prefetch" href="/wangdoc/assets/js/212.1a1631ff.js"><link rel="prefetch" href="/wangdoc/assets/js/213.65a08201.js"><link rel="prefetch" href="/wangdoc/assets/js/214.e091799f.js"><link rel="prefetch" href="/wangdoc/assets/js/215.3f088f25.js"><link rel="prefetch" href="/wangdoc/assets/js/216.525ce2e2.js"><link rel="prefetch" href="/wangdoc/assets/js/217.66d821a3.js"><link rel="prefetch" href="/wangdoc/assets/js/218.1a79eb73.js"><link rel="prefetch" href="/wangdoc/assets/js/219.6268047b.js"><link rel="prefetch" href="/wangdoc/assets/js/22.36428159.js"><link rel="prefetch" href="/wangdoc/assets/js/220.9c6338ad.js"><link rel="prefetch" href="/wangdoc/assets/js/221.02146d93.js"><link rel="prefetch" href="/wangdoc/assets/js/222.eea3bd30.js"><link rel="prefetch" href="/wangdoc/assets/js/223.552d4a26.js"><link rel="prefetch" href="/wangdoc/assets/js/224.175eebf2.js"><link rel="prefetch" href="/wangdoc/assets/js/225.408dcf42.js"><link rel="prefetch" href="/wangdoc/assets/js/226.5ba00006.js"><link rel="prefetch" href="/wangdoc/assets/js/227.b7671369.js"><link rel="prefetch" href="/wangdoc/assets/js/228.3522be14.js"><link rel="prefetch" href="/wangdoc/assets/js/229.812add83.js"><link rel="prefetch" href="/wangdoc/assets/js/23.e250d2fd.js"><link rel="prefetch" href="/wangdoc/assets/js/230.9e4314dc.js"><link rel="prefetch" href="/wangdoc/assets/js/231.3a4fa902.js"><link rel="prefetch" href="/wangdoc/assets/js/232.6939ad2d.js"><link rel="prefetch" href="/wangdoc/assets/js/233.ea0f4da8.js"><link rel="prefetch" href="/wangdoc/assets/js/234.84583de3.js"><link rel="prefetch" href="/wangdoc/assets/js/235.122a476b.js"><link rel="prefetch" href="/wangdoc/assets/js/236.3f4dd591.js"><link rel="prefetch" href="/wangdoc/assets/js/237.9e8d960a.js"><link rel="prefetch" href="/wangdoc/assets/js/238.44e1491a.js"><link rel="prefetch" href="/wangdoc/assets/js/239.34e411dc.js"><link rel="prefetch" href="/wangdoc/assets/js/24.f736c744.js"><link rel="prefetch" href="/wangdoc/assets/js/240.02a03faa.js"><link rel="prefetch" href="/wangdoc/assets/js/241.892ea6ad.js"><link rel="prefetch" href="/wangdoc/assets/js/242.2727cbba.js"><link rel="prefetch" href="/wangdoc/assets/js/243.3a66a03c.js"><link rel="prefetch" href="/wangdoc/assets/js/244.87fe4877.js"><link rel="prefetch" href="/wangdoc/assets/js/245.7c8a2445.js"><link rel="prefetch" href="/wangdoc/assets/js/246.560997d4.js"><link rel="prefetch" href="/wangdoc/assets/js/247.59d98ae4.js"><link rel="prefetch" href="/wangdoc/assets/js/248.d1ccbc48.js"><link rel="prefetch" href="/wangdoc/assets/js/249.03d46d71.js"><link rel="prefetch" href="/wangdoc/assets/js/25.f48ff59a.js"><link rel="prefetch" href="/wangdoc/assets/js/250.6efa8244.js"><link rel="prefetch" href="/wangdoc/assets/js/251.0026c87f.js"><link rel="prefetch" href="/wangdoc/assets/js/26.40d3655b.js"><link rel="prefetch" href="/wangdoc/assets/js/27.38a65ddc.js"><link rel="prefetch" href="/wangdoc/assets/js/28.8b75da0a.js"><link rel="prefetch" href="/wangdoc/assets/js/29.f13fc723.js"><link rel="prefetch" href="/wangdoc/assets/js/30.315594cc.js"><link rel="prefetch" href="/wangdoc/assets/js/31.a3449021.js"><link rel="prefetch" href="/wangdoc/assets/js/32.948ef6d8.js"><link rel="prefetch" href="/wangdoc/assets/js/33.153aea70.js"><link rel="prefetch" href="/wangdoc/assets/js/34.f2788372.js"><link rel="prefetch" href="/wangdoc/assets/js/35.22e4ae1a.js"><link rel="prefetch" href="/wangdoc/assets/js/36.f48064c8.js"><link rel="prefetch" href="/wangdoc/assets/js/37.3773d5a0.js"><link rel="prefetch" href="/wangdoc/assets/js/38.93705a9c.js"><link rel="prefetch" href="/wangdoc/assets/js/39.2afce206.js"><link rel="prefetch" href="/wangdoc/assets/js/4.4b75fed9.js"><link rel="prefetch" href="/wangdoc/assets/js/40.51df798f.js"><link rel="prefetch" href="/wangdoc/assets/js/41.95d176c1.js"><link rel="prefetch" href="/wangdoc/assets/js/42.5272f207.js"><link rel="prefetch" href="/wangdoc/assets/js/43.34f2e9f3.js"><link rel="prefetch" href="/wangdoc/assets/js/44.1f785bbb.js"><link rel="prefetch" href="/wangdoc/assets/js/45.0102682b.js"><link rel="prefetch" href="/wangdoc/assets/js/46.f52a47d9.js"><link rel="prefetch" href="/wangdoc/assets/js/47.6a133660.js"><link rel="prefetch" href="/wangdoc/assets/js/48.04d685e6.js"><link rel="prefetch" href="/wangdoc/assets/js/49.2733ea4d.js"><link rel="prefetch" href="/wangdoc/assets/js/5.9bd83369.js"><link rel="prefetch" href="/wangdoc/assets/js/50.51c74ba3.js"><link rel="prefetch" href="/wangdoc/assets/js/51.a92da126.js"><link rel="prefetch" href="/wangdoc/assets/js/52.1cf0402d.js"><link rel="prefetch" href="/wangdoc/assets/js/53.c2c2b1fa.js"><link rel="prefetch" href="/wangdoc/assets/js/54.6feeeb84.js"><link rel="prefetch" href="/wangdoc/assets/js/55.808d2125.js"><link rel="prefetch" href="/wangdoc/assets/js/56.deaa66cb.js"><link rel="prefetch" href="/wangdoc/assets/js/57.b5db8ee3.js"><link rel="prefetch" href="/wangdoc/assets/js/58.f719c564.js"><link rel="prefetch" href="/wangdoc/assets/js/59.f679c996.js"><link rel="prefetch" href="/wangdoc/assets/js/6.e73d1c0a.js"><link rel="prefetch" href="/wangdoc/assets/js/60.01882b8f.js"><link rel="prefetch" href="/wangdoc/assets/js/61.024fa35f.js"><link rel="prefetch" href="/wangdoc/assets/js/62.cc7e8280.js"><link rel="prefetch" href="/wangdoc/assets/js/63.75459a91.js"><link rel="prefetch" href="/wangdoc/assets/js/64.2d330a94.js"><link rel="prefetch" href="/wangdoc/assets/js/65.5505951d.js"><link rel="prefetch" href="/wangdoc/assets/js/66.01178aa8.js"><link rel="prefetch" href="/wangdoc/assets/js/67.db24a774.js"><link rel="prefetch" href="/wangdoc/assets/js/68.f463daf1.js"><link rel="prefetch" href="/wangdoc/assets/js/69.9006ec12.js"><link rel="prefetch" href="/wangdoc/assets/js/7.1cf9234b.js"><link rel="prefetch" href="/wangdoc/assets/js/70.e3e09ec2.js"><link rel="prefetch" href="/wangdoc/assets/js/71.6fd94d1d.js"><link rel="prefetch" href="/wangdoc/assets/js/72.47af9285.js"><link rel="prefetch" href="/wangdoc/assets/js/73.8616a5b7.js"><link rel="prefetch" href="/wangdoc/assets/js/74.14894b42.js"><link rel="prefetch" href="/wangdoc/assets/js/75.d341ec20.js"><link rel="prefetch" href="/wangdoc/assets/js/76.4ffc32bc.js"><link rel="prefetch" href="/wangdoc/assets/js/77.aff4cbd1.js"><link rel="prefetch" href="/wangdoc/assets/js/78.ec37d73f.js"><link rel="prefetch" href="/wangdoc/assets/js/79.07fc5bb3.js"><link rel="prefetch" href="/wangdoc/assets/js/8.329baaa5.js"><link rel="prefetch" href="/wangdoc/assets/js/80.14824d90.js"><link rel="prefetch" href="/wangdoc/assets/js/81.76626d4f.js"><link rel="prefetch" href="/wangdoc/assets/js/82.9d73e231.js"><link rel="prefetch" href="/wangdoc/assets/js/83.c3bdcee0.js"><link rel="prefetch" href="/wangdoc/assets/js/85.0d32b3d5.js"><link rel="prefetch" href="/wangdoc/assets/js/86.8aeb89ff.js"><link rel="prefetch" href="/wangdoc/assets/js/87.fd64aa61.js"><link rel="prefetch" href="/wangdoc/assets/js/88.9da6635a.js"><link rel="prefetch" href="/wangdoc/assets/js/89.e966656e.js"><link rel="prefetch" href="/wangdoc/assets/js/9.8f332061.js"><link rel="prefetch" href="/wangdoc/assets/js/90.70c4ec59.js"><link rel="prefetch" href="/wangdoc/assets/js/91.a334b611.js"><link rel="prefetch" href="/wangdoc/assets/js/92.9214298e.js"><link rel="prefetch" href="/wangdoc/assets/js/93.68cedc81.js"><link rel="prefetch" href="/wangdoc/assets/js/94.572f645a.js"><link rel="prefetch" href="/wangdoc/assets/js/95.fdaacb9c.js"><link rel="prefetch" href="/wangdoc/assets/js/96.4a04f1b6.js"><link rel="prefetch" href="/wangdoc/assets/js/97.5e22edd4.js"><link rel="prefetch" href="/wangdoc/assets/js/98.18154198.js"><link rel="prefetch" href="/wangdoc/assets/js/99.9c3f7eff.js">
    <link rel="stylesheet" href="/wangdoc/assets/css/0.styles.b8e2a6d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="tulp-scrollbar"><div class="scrollbar-wrapper tulp-scrollbar__wrap tulp-scrollbar__wrap--hidden-default"><div class="tulp-scrollbar__view"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wangdoc/" class="home-link router-link-active"><!----> <span class="site-name">WangDoc</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----> <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="icon search-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z"></path></svg></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wangdoc/html/" class="nav-link">
  HTML 教程
</a></div><div class="nav-item"><a href="/wangdoc/js/" class="nav-link">
  JavaScript 教程
</a></div><div class="nav-item"><a href="/wangdoc/es6/" class="nav-link">
  ES6 教程
</a></div><div class="nav-item"><a href="/wangdoc/webapi/" class="nav-link">
  Web API 教程
</a></div><div class="nav-item"><a href="/wangdoc/bash/" class="nav-link router-link-active">
  Bash 脚本教程
</a></div><div class="nav-item"><a href="/wangdoc/ssh/" class="nav-link">
  SSH 教程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="相关链接" class="dropdown-title"><span class="title">相关链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="相关链接" class="mobile-dropdown-title"><span class="title">相关链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/uphg/wangdoc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://wangdoc.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  网道
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div class="tulp-scrollbar"><div class="scrollbar-wrapper tulp-scrollbar__wrap tulp-scrollbar__wrap--hidden-default"><div class="tulp-scrollbar__view"><nav class="nav-links"><div class="nav-item"><a href="/wangdoc/html/" class="nav-link">
  HTML 教程
</a></div><div class="nav-item"><a href="/wangdoc/js/" class="nav-link">
  JavaScript 教程
</a></div><div class="nav-item"><a href="/wangdoc/es6/" class="nav-link">
  ES6 教程
</a></div><div class="nav-item"><a href="/wangdoc/webapi/" class="nav-link">
  Web API 教程
</a></div><div class="nav-item"><a href="/wangdoc/bash/" class="nav-link router-link-active">
  Bash 脚本教程
</a></div><div class="nav-item"><a href="/wangdoc/ssh/" class="nav-link">
  SSH 教程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="相关链接" class="dropdown-title"><span class="title">相关链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="相关链接" class="mobile-dropdown-title"><span class="title">相关链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/uphg/wangdoc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://wangdoc.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  网道
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Bash 脚本教程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wangdoc/bash/" aria-current="page" class="sidebar-link">文档说明</a></li><li><a href="/wangdoc/bash/intro.html" class="sidebar-link">Bash 简介</a></li><li><a href="/wangdoc/bash/grammar.html" class="sidebar-link">Bash 的基本语法</a></li><li><a href="/wangdoc/bash/expansion.html" class="sidebar-link">Bash 的模式扩展</a></li><li><a href="/wangdoc/bash/quotation.html" class="sidebar-link">引号和转义</a></li><li><a href="/wangdoc/bash/variable.html" class="sidebar-link">Bash 变量</a></li><li><a href="/wangdoc/bash/string.html" aria-current="page" class="active sidebar-link">字符串操作</a></li><li><a href="/wangdoc/bash/arithmetic.html" class="sidebar-link">Bash 的算术运算</a></li><li><a href="/wangdoc/bash/readline.html" class="sidebar-link">Bash 行操作</a></li><li><a href="/wangdoc/bash/stack.html" class="sidebar-link">目录堆栈</a></li><li><a href="/wangdoc/bash/script.html" class="sidebar-link">Bash 脚本入门</a></li><li><a href="/wangdoc/bash/read.html" class="sidebar-link">read 命令</a></li><li><a href="/wangdoc/bash/condition.html" class="sidebar-link">条件判断</a></li><li><a href="/wangdoc/bash/loop.html" class="sidebar-link">循环</a></li><li><a href="/wangdoc/bash/function.html" class="sidebar-link">Bash 函数</a></li><li><a href="/wangdoc/bash/array.html" class="sidebar-link">数组</a></li><li><a href="/wangdoc/bash/set.html" class="sidebar-link">set 命令，shopt 命令</a></li><li><a href="/wangdoc/bash/debug.html" class="sidebar-link">脚本除错</a></li><li><a href="/wangdoc/bash/mktemp.html" class="sidebar-link">mktemp 命令，trap 命令</a></li><li><a href="/wangdoc/bash/startup.html" class="sidebar-link">Bash 启动环境</a></li><li><a href="/wangdoc/bash/prompt.html" class="sidebar-link">命令提示符</a></li></ul></section></li></ul> </div></div><div class="tulp-scrollbar__bar is-horizontal"><div class="tulp-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="tulp-scrollbar__bar is-vertical"><div class="tulp-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></aside> <main class="page"> <div class="re-page-top"><h2 class="title"><span>字符串操作</span></h2></div> <div class="page-index"><div class="page-index-title"><span class="open-catalog"><svg aria-hidden="true" id="icon-arrow-right" viewBox="0 0 1024 1024" class="page-index-icon arrow-right"><path d="M797.21457646 444.0233542C639.18078066 323.41640029 481.14698487 202.80944727 323.13223847 82.18344394 266.85068662 39.24639688 185.76131065 79.36563623 185.76131065 150.16009062v723.67823145c0 70.7944544 81.08937597 110.91528018 137.37092782 67.95918369 158.01474638-120.60854033 316.04854219-241.21390605 474.08233799-361.83832207 44.83410644-34.21851065 44.83410644-101.69985674 0-135.93582949z"></path></svg> <span class="text">目录</span></span></div> <div class="page-index-content"><div class="page-catalog" style="display:none;"><div class="synopsis-wrap"><ul class="synopsis-ul"><li class="synopsis-li"><a href="/wangdoc/bash/string.html#字符串的长度" class="synopsis-link">字符串的长度</a></li><li class="synopsis-li"><a href="/wangdoc/bash/string.html#子字符串" class="synopsis-link">子字符串</a></li><li class="synopsis-li"><a href="/wangdoc/bash/string.html#搜索和替换" class="synopsis-link">搜索和替换</a></li><li class="synopsis-li"><a href="/wangdoc/bash/string.html#改变大小写" class="synopsis-link">改变大小写</a></li></ul></div></div></div></div> <div class="theme-default-content content__default"><h1 id="字符串操作"><a href="#字符串操作" class="header-anchor">#</a> 字符串操作</h1> <p>本章介绍 Bash 字符串操作的语法。</p> <h2 id="字符串的长度"><a href="#字符串的长度" class="header-anchor">#</a> 字符串的长度</h2> <p>获取字符串长度的语法如下。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">${<span class="token operator">#</span>varname}</span>
</code></pre></div><p>下面是一个例子。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">myPath</span><span class="token operator">=</span>/home/cam/book/long.file.name
$ <span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>myPath}</span>
<span class="token number">29</span>
</code></pre></div><p>大括号<code>{}</code>是必需的，否则 Bash 会将<code>$#</code>理解成脚本的参数个数，将变量名理解成文本。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token variable">$#</span>myvar
0myvar
</code></pre></div><p>上面例子中，Bash 将<code>$#</code>和<code>myvar</code>分开解释了。</p> <h2 id="子字符串"><a href="#子字符串" class="header-anchor">#</a> 子字符串</h2> <p>字符串提取子串的语法如下。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">${varname<span class="token operator">:</span>offset<span class="token operator">:</span>length}</span>
</code></pre></div><p>上面语法的含义是返回变量<code>$varname</code>的子字符串，从位置<code>offset</code>开始（从<code>0</code>开始计算），长度为<code>length</code>。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">count</span><span class="token operator">=</span>frogfootman
$ <span class="token builtin class-name">echo</span> <span class="token variable">${count<span class="token operator">:</span>4<span class="token operator">:</span>4}</span>
foot
</code></pre></div><p>上面例子返回字符串<code>frogfootman</code>从4号位置开始的长度为4的子字符串<code>foot</code>。</p> <p>这种语法不能直接操作字符串，只能通过变量来读取字符串，并且不会改变原始字符串。变量前面的美元符号可以省略。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 报错</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${&quot;hello&quot;<span class="token operator">:</span>2<span class="token operator">:</span>3}</span>
</code></pre></div><p>上面例子中，<code>&quot;hello&quot;</code>不是变量名，导致 Bash 报错。</p> <p>如果省略<code>length</code>，则从位置<code>offset</code>开始，一直返回到字符串的结尾。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">count</span><span class="token operator">=</span>frogfootman
$ <span class="token builtin class-name">echo</span> <span class="token variable">${count<span class="token operator">:</span>4}</span>
footman
</code></pre></div><p>上面例子是返回变量<code>count</code>从4号位置一直到结尾的子字符串。</p> <p>如果<code>offset</code>为负值，表示从字符串的末尾开始算起。注意，负数前面必须有一个空格， 以防止与<code>${variable:-word}</code>的变量的设置默认值语法混淆。这时还可以指定<code>length</code>，<code>length</code>可以是正值，也可以是负值（负值不能超过<code>offset</code>的长度）。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token string">&quot;This string is long.&quot;</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">:</span> -5}</span>
long.
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">:</span> -5<span class="token operator">:</span>2}</span>
lo
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">:</span> -5<span class="token operator">:-</span>2}</span>
lon
</code></pre></div><p>上面例子中，<code>offset</code>为<code>-5</code>，表示从倒数第5个字符开始截取，所以返回<code>long.</code>。如果指定长度<code>length</code>为<code>2</code>，则返回<code>lo</code>；如果<code>length</code>为<code>-2</code>，表示要排除从字符串末尾开始的2个字符，所以返回<code>lon</code>。</p> <h2 id="搜索和替换"><a href="#搜索和替换" class="header-anchor">#</a> 搜索和替换</h2> <p>Bash 提供字符串搜索和替换的多种方法。</p> <p><strong>（1）字符串头部的模式匹配。</strong></p> <p>以下两种语法可以检查字符串开头，是否匹配给定的模式。如果匹配成功，就删除匹配的部分，返回剩下的部分。原始变量不会发生变化。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 如果 pattern 匹配变量 variable 的开头，</span>
<span class="token comment"># 删除最短匹配（非贪婪匹配）的部分，返回剩余部分</span>
<span class="token variable">${variable<span class="token operator">#</span>pattern}</span>

<span class="token comment"># 如果 pattern 匹配变量 variable 的开头，</span>
<span class="token comment"># 删除最长匹配（贪婪匹配）的部分，返回剩余部分</span>
<span class="token variable">${variable<span class="token operator">##</span>pattern}</span>
</code></pre></div><p>上面两种语法会删除变量字符串开头的匹配部分（将其替换为空），返回剩下的部分。区别是一个是最短匹配（又称非贪婪匹配），另一个是最长匹配（又称贪婪匹配）。</p> <p>匹配模式<code>pattern</code>可以使用<code>*</code>、<code>?</code>、<code>[]</code>等通配符。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">myPath</span><span class="token operator">=</span>/home/cam/book/long.file.name

$ <span class="token builtin class-name">echo</span> <span class="token variable">${myPath<span class="token operator">#</span><span class="token operator">/</span>*<span class="token operator">/</span>}</span>
cam/book/long.file.name

$ <span class="token builtin class-name">echo</span> <span class="token variable">${myPath<span class="token operator">##</span><span class="token operator">/</span>*<span class="token operator">/</span>}</span>
long.file.name
</code></pre></div><p>上面例子中，匹配的模式是<code>/*/</code>，其中<code>*</code>可以匹配任意数量的字符，所以最短匹配是<code>/home/</code>，最长匹配是<code>/home/cam/book/</code>。</p> <p>下面写法可以删除文件路径的目录部分，只留下文件名。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">path</span><span class="token operator">=</span>/home/cam/book/long.file.name

$ <span class="token builtin class-name">echo</span> <span class="token variable">${path<span class="token operator">##</span>*<span class="token operator">/</span>}</span>
long.file.name
</code></pre></div><p>上面例子中，模式<code>*/</code>匹配目录部分，所以只返回文件名。</p> <p>下面再看一个例子。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">phone</span><span class="token operator">=</span><span class="token string">&quot;555-456-1414&quot;</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${phone<span class="token operator">#</span>*-}</span>
<span class="token number">456</span>-1414
$ <span class="token builtin class-name">echo</span> <span class="token variable">${phone<span class="token operator">##</span>*-}</span>
<span class="token number">1414</span>
</code></pre></div><p>如果匹配不成功，则返回原始字符串。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">phone</span><span class="token operator">=</span><span class="token string">&quot;555-456-1414&quot;</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${phone<span class="token operator">#</span>444}</span>
<span class="token number">555</span>-456-1414
</code></pre></div><p>上面例子中，原始字符串里面无法匹配模式<code>444</code>，所以原样返回。</p> <p>如果要将头部匹配的部分，替换成其他内容，采用下面的写法。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 模式必须出现在字符串的开头</span>
<span class="token variable">${variable<span class="token operator">/</span><span class="token operator">#</span>pattern<span class="token operator">/</span>string}</span>

<span class="token comment"># 示例</span>
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span>JPG.JPG
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">/</span><span class="token operator">#</span>JPG<span class="token operator">/</span>jpg}</span>
jpg.JPG
</code></pre></div><p>上面例子中，被替换的<code>JPG</code>必须出现在字符串头部，所以返回<code>jpg.JPG</code>。</p> <p><strong>（2）字符串尾部的模式匹配。</strong></p> <p>以下两种语法可以检查字符串结尾，是否匹配给定的模式。如果匹配成功，就删除匹配的部分，返回剩下的部分。原始变量不会发生变化。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 如果 pattern 匹配变量 variable 的结尾，</span>
<span class="token comment"># 删除最短匹配（非贪婪匹配）的部分，返回剩余部分</span>
<span class="token variable">${variable<span class="token operator">%</span>pattern}</span>

<span class="token comment"># 如果 pattern 匹配变量 variable 的结尾，</span>
<span class="token comment"># 删除最长匹配（贪婪匹配）的部分，返回剩余部分</span>
<span class="token variable">${variable<span class="token operator">%%</span>pattern}</span>
</code></pre></div><p>上面两种语法会删除变量字符串结尾的匹配部分（将其替换为空），返回剩下的部分。区别是一个是最短匹配（又称非贪婪匹配），另一个是最长匹配（又称贪婪匹配）。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">path</span><span class="token operator">=</span>/home/cam/book/long.file.name

$ <span class="token builtin class-name">echo</span> <span class="token variable">${path<span class="token operator">%</span>.*}</span>
/home/cam/book/long.file

$ <span class="token builtin class-name">echo</span> <span class="token variable">${path<span class="token operator">%%</span>.*}</span>
/home/cam/book/long
</code></pre></div><p>上面例子中，匹配模式是<code>.*</code>，其中<code>*</code>可以匹配任意数量的字符，所以最短匹配是<code>.name</code>，最长匹配是<code>.file.name</code>。</p> <p>下面写法可以删除路径的文件名部分，只留下目录部分。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">path</span><span class="token operator">=</span>/home/cam/book/long.file.name

$ <span class="token builtin class-name">echo</span> <span class="token variable">${path<span class="token operator">%</span><span class="token operator">/</span>*}</span>
/home/cam/book
</code></pre></div><p>上面例子中，模式<code>/*</code>匹配文件名部分，所以只返回目录部分。</p> <p>下面的写法可以替换文件的后缀名。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">file</span><span class="token operator">=</span>foo.png
$ <span class="token builtin class-name">echo</span> <span class="token variable">${file<span class="token operator">%</span>.png}</span>.jpg
foo.jpg
</code></pre></div><p>上面的例子将文件的后缀名，从<code>.png</code>改成了<code>.jpg</code>。</p> <p>下面再看一个例子。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">phone</span><span class="token operator">=</span><span class="token string">&quot;555-456-1414&quot;</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${phone<span class="token operator">%</span>-*}</span>
<span class="token number">555</span>-456
$ <span class="token builtin class-name">echo</span> <span class="token variable">${phone<span class="token operator">%%</span>-*}</span>
<span class="token number">555</span>
</code></pre></div><p>如果匹配不成功，则返回原始字符串。</p> <p>如果要将尾部匹配的部分，替换成其他内容，采用下面的写法。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 模式必须出现在字符串的结尾</span>
<span class="token variable">${variable<span class="token operator">/</span><span class="token operator">%</span>pattern<span class="token operator">/</span>string}</span>

<span class="token comment"># 示例</span>
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span>JPG.JPG
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">/</span><span class="token operator">%</span>JPG<span class="token operator">/</span>jpg}</span>
JPG.jpg
</code></pre></div><p>上面例子中，被替换的<code>JPG</code>必须出现在字符串尾部，所以返回<code>JPG.jpg</code>。</p> <p><strong>（3）任意位置的模式匹配。</strong></p> <p>以下两种语法可以检查字符串内部，是否匹配给定的模式。如果匹配成功，就删除匹配的部分，换成其他的字符串返回。原始变量不会发生变化。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 如果 pattern 匹配变量 variable 的一部分，</span>
<span class="token comment"># 最长匹配（贪婪匹配）的那部分被 string 替换，但仅替换第一个匹配</span>
<span class="token variable">${variable<span class="token operator">/</span>pattern<span class="token operator">/</span>string}</span>

<span class="token comment"># 如果 pattern 匹配变量 variable 的一部分，</span>
<span class="token comment"># 最长匹配（贪婪匹配）的那部分被 string 替换，所有匹配都替换</span>
<span class="token variable">${variable<span class="token operator">/</span><span class="token operator">/</span>pattern<span class="token operator">/</span>string}</span>
</code></pre></div><p>上面两种语法都是最长匹配（贪婪匹配）下的替换，区别是前一个语法仅仅替换第一个匹配，后一个语法替换所有匹配。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">path</span><span class="token operator">=</span>/home/cam/foo/foo.name

$ <span class="token builtin class-name">echo</span> <span class="token variable">${path<span class="token operator">/</span>foo<span class="token operator">/</span>bar}</span>
/home/cam/bar/foo.name

$ <span class="token builtin class-name">echo</span> <span class="token variable">${path<span class="token operator">/</span><span class="token operator">/</span>foo<span class="token operator">/</span>bar}</span>
/home/cam/bar/bar.name
</code></pre></div><p>上面例子中，前一个命令只替换了第一个<code>foo</code>，后一个命令将两个<code>foo</code>都替换了。</p> <p>下面的例子将分隔符从<code>:</code>换成换行符。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> -e <span class="token variable">${<span class="token environment constant">PATH</span><span class="token operator">/</span><span class="token operator">/</span><span class="token operator">:</span><span class="token operator">/</span>'\n'}</span>
/usr/local/bin
/usr/bin
/bin
<span class="token punctuation">..</span>.
</code></pre></div><p>上面例子中，<code>echo</code>命令的<code>-e</code>参数，表示将替换后的字符串的<code>\n</code>字符，解释为换行符。</p> <p>模式部分可以使用通配符。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">phone</span><span class="token operator">=</span><span class="token string">&quot;555-456-1414&quot;</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">${phone<span class="token operator">/</span>5?4<span class="token operator">/</span>-}</span>
<span class="token number">55</span>-56-1414
</code></pre></div><p>上面的例子将<code>5-4</code>替换成<code>-</code>。</p> <p>如果省略了<code>string</code>部分，那么就相当于匹配的部分替换成空字符串，即删除匹配的部分。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">path</span><span class="token operator">=</span>/home/cam/foo/foo.name

$ <span class="token builtin class-name">echo</span> <span class="token variable">${path<span class="token operator">/</span>.*<span class="token operator">/</span>}</span>
/home/cam/foo/foo
</code></pre></div><p>上面例子中，第二个斜杠后面的<code>string</code>部分省略了，所以模式<code>.*</code>匹配的部分<code>.name</code>被删除后返回。</p> <p>前面提到过，这个语法还有两种扩展形式。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 模式必须出现在字符串的开头</span>
<span class="token variable">${variable<span class="token operator">/</span><span class="token operator">#</span>pattern<span class="token operator">/</span>string}</span>

<span class="token comment"># 模式必须出现在字符串的结尾</span>
<span class="token variable">${variable<span class="token operator">/</span><span class="token operator">%</span>pattern<span class="token operator">/</span>string}</span>
</code></pre></div><h2 id="改变大小写"><a href="#改变大小写" class="header-anchor">#</a> 改变大小写</h2> <p>下面的语法可以改变变量的大小写。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 转为大写</span>
<span class="token variable">${varname<span class="token operator">^^</span>}</span>

<span class="token comment"># 转为小写</span>
<span class="token variable">${varname<span class="token operator">,,</span>}</span>
</code></pre></div><p>下面是一个例子。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token assign-left variable">foo</span><span class="token operator">=</span>heLLo
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">^^</span>}</span>
HELLO
$ <span class="token builtin class-name">echo</span> <span class="token variable">${foo<span class="token operator">,,</span>}</span>
hello
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021-07-20 14:30</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="bi bi-chevron-left"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"></path></svg> <a href="/wangdoc/bash/variable.html" class="prev">
        Bash 变量
      </a></span> <span class="next"><a href="/wangdoc/bash/arithmetic.html">
        Bash 的算术运算
      </a> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="bi bi-chevron-right"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path></svg></span></p></div> </main></div></div></div><div class="tulp-scrollbar__bar is-horizontal"><div class="tulp-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="tulp-scrollbar__bar is-vertical"><div class="tulp-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/wangdoc/assets/js/app.8723d088.js" defer></script><script src="/wangdoc/assets/js/2.9a1a264e.js" defer></script><script src="/wangdoc/assets/js/84.ac8a7e3b.js" defer></script><script src="/wangdoc/assets/js/3.59361ec6.js" defer></script>
  </body>
</html>
